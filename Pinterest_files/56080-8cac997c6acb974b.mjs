(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[56080],{554290:(e,i,n)=>{var t=n(406557);e.exports=function(e){return"function"==typeof e?e:t}},498913:(e,i,n)=>{var t=n(422545),o=n(554290),a=n(640554),r=4294967295,s=Math.min;e.exports=function(e,i){if((e=a(e))<1||e>9007199254740991)return[];var n=r,l=s(e,r);i=o(i),e-=r;for(var d=t(l,i);++n<e;)i(n);return d}},418601:(e,i,n)=>{var t=n(14841),o=1/0;e.exports=function(e){return e?(e=t(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,i,n)=>{var t=n(418601);e.exports=function(e){var i=t(e),n=i%1;return i==i?n?i-n:i:0}},733756:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(30700),o=n(883119),a=n(785893);const r={__style:{borderRadius:"4px",padding:"10px 14px"}},s={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},l={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:i,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:_=70,onTouch:h,pressState:m,size:g,shape:v,text:f})=>{const x=(e=>"red"===e||"transparent"===e||"darkGray"===e?"inverse":"default")(i),y=(({color:e,icon:i})=>i?l:"transparent"===e?{__style:{...r.__style,...s}}:r)({color:i,icon:c}),b=(0,a.jsx)(o.xu,{position:"relative",children:(0,a.jsx)(o.xu,{color:i,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:_,dangerouslySetInlineStyle:"pill"===v?(w=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...w}}):y,children:(0,a.jsxs)(o.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,a.jsx)(o.xu,{paddingX:"check"===c?2:0,children:(0,a.jsx)(o.JO,{accessibilityLabel:e,color:x,icon:c,inline:!0,size:"check"===c?16:20})}),(0,a.jsx)(o.xv,{color:x,inline:!0,size:g,lineClamp:1,weight:"bold",children:f})]})})});var w;return h?(0,a.jsx)(t.Z,{onTouch:h,rounding:"pill"===v?"pill":2,pressState:m||"none",children:(0,a.jsx)(o.xu,{ref:d,children:b})}):b}},856919:(e,i,n)=>{n.d(i,{MZ:()=>A,di:()=>z,Ai:()=>C});var t=n(667294),o=n(474635),a=n(205443),r=n(733756),s=n(735079),l=n(954571),d=n(250059),c=n(149230),u=n(407043),p=n(48714),_=n(925927);const h=({children:e,external:i,externalQueryParams:n,target:t,href:o})=>{const{logContextEvent:a}=(0,u.v)(),r=(0,_.k6)(),s=(0,_.TH)();if(!o)return null;const l=(0,d.Z)(o);return e({navigate:e=>{e.preventDefault(),(0,c.Z)({url:l})||i?(0,p.lI)({href:l,queryParams:n,location:s},a,null):(0,p.G3)({event:e,href:o,history:r,target:"blank"===t?"blank":null})}})};var m=n(883119),g=n(785893);const v=({children:e,external:i,externalQueryParams:n,inline:t=!1,newTab:o,nofollow:a,onTouch:r,onBlur:s,onFocus:l,pressState:c,rounding:u,to:p})=>(0,g.jsx)(h,{external:i,target:o?"blank":null,externalQueryParams:n,href:p,children:({navigate:i})=>(0,g.jsx)(m.rU,{onBlur:s?({event:e})=>s(e):void 0,onFocus:l?({event:e})=>l(e):void 0,underline:"none",href:(0,d.Z)(p),inline:t,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),null==r||r(e),e.defaultPrevented||i(e)},rel:a?"nofollow":"none",rounding:u,tapStyle:(Array.isArray(c)?c:[c]).includes("compress")?"compress":"none",children:e})}),f=({external:e,externalQueryParams:i,newTab:n,onTouch:t,to:o,...a})=>(0,g.jsx)(h,{external:e,target:n?"blank":null,externalQueryParams:i,href:o,children:({navigate:e})=>(0,g.jsx)(r.Z,{onTouch:i=>{null==t||t(i),i.defaultPrevented||e(i)},...a})});var x=n(949372),y=n(965708),b=n(30287),w=n(968228),P=n(266725),k=n(780280),T=n(281180),S=n(957161),j=n(622096);const I=(e,i=!1)=>function({isAppUpsellDisabled:n,...r}){const{children:d,clientTrackingParams:c,deeplinkUri:u,external:p,onTouch:_,refresh:h,to:v,viewParameter:f,viewType:I}=r,A=(0,x.Z)(),[C,z]=(0,t.useState)(!1),L=(0,y.Z)(),{userAgent:{platform:D},locale:O}=(0,k.B)(),Z=(0,T.Tt)(),E=()=>{(0,P.j)({event_type:1701,view_type:I,view_parameter:f}),C&&z(!1)};return(0,g.jsxs)(m.xu,{"data-test-id":"deeplink-wrapper",children:[C&&(0,g.jsx)(o.Z,{within:"deep-link-app-upsell-modal",children:({handleOpenApp:e})=>(0,g.jsx)(a.Z,{clientTrackingParams:c,isOpen:!0,onDismiss:()=>{},onOpenInApp:()=>{(0,S.Nh)("deeplinkBehavior","branchfallback"),e({deepLinkUri:u}),E()},shouldTrackDismiss:!0,to:v,viewParameter:f,viewType:I})}),(0,g.jsx)(s.Z,{children:t=>(0,g.jsx)(e,{...r,onTouch:e=>{const o=A&&!n&&L&&!p&&!h&&!(0,b.FP)(window)&&!("ios"===D&&(O||"").startsWith("ar"))&&(0,w.kp)((0,l.Z)(Z));var a;o?(e.stopPropagation(),e.preventDefault(),z(!0)):"branchfallback"!==(0,S.qn)("deeplinkBehavior")||(0,j.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,j.Nh)("fallbackAttempt",1),t(u,`${window.location.origin}${a=v,"string"==typeof a?a:`${a.pathname||""}${a.search?`?${a.search}`:""}`}`),E()),i&&o||!_||_(e)},children:d})})]})},A=I(v),C=I(f),z=I(r.Z,!0)},735079:(e,i,n)=>{n.d(i,{Z:()=>g});var t=n(966338),o=n(172071),a=n(826067);const r="http://play.google.com/store/apps/details?id=com.pinterest",s=["access_token","new_password","new_password_confirm","password","next"],l=(e,i)=>i?(0,a.ru)(e,{invite_code:i}):e,d=(e,i,n)=>{if("ios"===i&&"string"==typeof e&&e.startsWith("discover/article/")){const i=e.split("/")[2];e=`discover_article/${i}/?is_deeplink=1`}return"string"==typeof e&&e.startsWith("tv/")&&(e=e.replace(/^tv\//,"live-session/")),"string"==typeof e?l(e,n):"ios"===i||"ipad"===i?l(e.iOS,n):"android"===i?l(e.android,n):null},c=({deeplinkUri:e,fallbackUrl:i,invite_code:n,platform:t,redirectToLite:l,unauthId:c,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:i,platform:n,fallbackUrl:t,unauthId:o})=>({deeplink_path:d(e,n,i),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:o,utm_source:140,utm_medium:2152,...t?{af_r:t}:null}))({deeplinkUri:e,fallbackUrl:i,invite_code:n,platform:t,unauthId:c,userAgent:u});if(o.Z.increment("mweb.deeplink",1,{platform:t}),n&&o.Z.increment("mweb.deeplink.invite_code",1),o.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(c)}),l){o.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const i=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(i)}})({unauthId:c});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===t){const i=(({deeplinkUri:e,invite_code:i,platform:n,unauthId:t})=>{const o=JSON.stringify({deeplink_path:d(e,n,i),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:t});return{referrer:(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:o})}})({deeplinkUri:e,invite_code:n,platform:t,unauthId:c});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,a.ru)(window.location.href,p);window.open(e)}else window.location.href=(0,a.ru)(r,i)})).catch(o.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,a.ru)(r,i)}else{if(o.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===t&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",p));window.location.href=(0,a.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}}};var u=n(619277),p=n(968228),_=n(785893);function h({children:e,invite_code:i}){const{userAgentPlatform:n,unauthId:o,userAgent:a}=(0,t.useSelector)((({session:e})=>e));return e((async(e,t)=>{c({deeplinkUri:e,fallbackUrl:t,invite_code:i,platform:n,redirectToLite:(0,p.Rp)({platform:n,userAgent:a}),unauthId:o,userAgent:a})}))}const m=e=>(0,_.jsx)(u.ty,{children:i=>(0,_.jsx)(h,{...e,invite_code:i})});m.displayName="DeepLinkNavigator";const g=m},825077:(e,i,n)=>{n.d(i,{fv:()=>g,GR:()=>p,Hs:()=>f,Mv:()=>h,uc:()=>m,dL:()=>_,qS:()=>v,Y4:()=>b,HE:()=>y,Cy:()=>x});var t=n(667294),o=n(973935),a=n(124580),r=n(266725);function s(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class l extends t.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,o.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=this.props.eventData;a.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||i||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{(0,r.vP)({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&a.Z.stop(this.node)}render(){return t.Children.only(this.props.children)}}var d=n(407043);function c({auxData:e,component:i,eventData:n,eventType:o,impressionType:r,isPaused:s,objectIdStr:l,onTracked:c,viewData:u,viewType:p,viewParameter:_}){const h=(0,t.useRef)(null),{logImpression:m}=(0,d.v)(),g=(0,t.useCallback)((()=>{const t=t=>{m({viewData:u||{},viewType:p,viewParameter:_,eventType:o,impressionType:r,auxData:e,component:i,objectIdStr:l,eventData:{endTime:t.endTime,time:t.startTime,...n}}),c&&c(n)};try{if(h.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=n;a.Z.start(h.current).onExitViewport(t).setDebugId(e||i||"unknown")}}catch(s){window.console.error('Can only track impressions for type "HTMLElement"')}}),[h.current]);return(0,t.useEffect)((()=>{s||g();const e=h.current;return()=>{e instanceof HTMLElement&&a.Z.stop(e)}}),[s,g]),h}var u=n(785893);const p=e=>(0,u.jsx)(l,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),_=e=>{const i=c({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},h=e=>{const i=c({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},m=e=>{const i=c({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:i})},g=e=>(0,u.jsx)(l,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const i=c({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},f=e=>(0,u.jsx)(l,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),x=e=>{const i=c({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},y=e=>{const i=c({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},b=e=>{const i=c({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})}},556080:(e,i,n)=>{n.d(i,{Z:()=>xe,K:()=>ce});var t=n(667294),o=n(966338),a=n(319915),r=n(680046),s=n(558150),l=n(248975),d=n(609943),c=n(958007),u=n(954571),p=n(30700),_=n(81226),h=n(116303),m=n(561195),g=n(883119),v=n(785893);function f({maxRating:e,rating:i,text:n}){return(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(m.Z,{max_rating:e||"",rating:i||"",width:10}),n&&(0,v.jsx)(t.Fragment,{children:(0,v.jsx)(g.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(g.xv,{size:"100",lineClamp:1,children:n})})})]})}var x=n(898781),y=n(755506);const b=({pinId:e})=>{var i;const n=(0,x.ZP)(),a=(0,o.useSelector)((({pins:e})=>e))[e];if(!a)return null;const{pinProduct:r}=(0,y.Fi)({i18n:n,pin:a,useGridTitleOrRichSummary:!1});if(!r||!r.price)return null;const s=r.standard_price||r.price,l=r.min_price||"",d=r.max_price||"",c=r.in_stock||!1,u=null===(i=a.rich_summary)||void 0===i?void 0:i.site_name,p="dark",_=c?p:"subtle";return(0,v.jsxs)(t.Fragment,{children:[u&&(0,v.jsx)(g.xv,{color:p,size:"100",children:u}),(0,v.jsxs)(g.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[l&&d?(0,v.jsxs)(g.xv,{size:"100",color:_,children:[l," - ",d]}):(0,v.jsx)(g.xv,{size:"100",color:_,children:s}),!c&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",color:_,children:"·"})}),(0,v.jsx)(g.xv,{size:"100",color:_,children:n._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})};var w=n(947599),P=n(23084),k=n(941646),T=n(50286),S=n(803035),j=n(840137),I=n(923297),A=n(904411),C=n(925927),z=n(867820),L=n(53987);const D=(0,t.lazy)((()=>n.e(42368).then(n.bind(n,342368)))),O=({title:e})=>{const i=(0,T.ZP)(),n=(0,C.TH)();return(0,v.jsx)(k.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:n,item:"related-pins-title"})},children:(0,v.jsx)(g.xv,{size:"desktop"===i?"300":"100",weight:"bold",children:e})})})},Z=({allowPriceIndicator:e,contextMenu:i,credits:n,hidePinMetadata:r,hasAffiliatedProducts:s,isHubFeed:l,isPromotedPin:d,isSponsoredPin:c,isSquarePin:u,marginTop:_,marginStart:m,marginEnd:y,onCreditsClick:Z,pinDescription:E,pinId:R,pinnedToBoardId:U,pinReactionCounts:M,recipeCookTime:B,recipeMaxRating:N,recipeRating:H,recipeReviewCount:F,shouldShowReactions:W,style:$="default",title:G,type:q})=>{var V,Y,X,J,K,Q,ee,ie;const ne=(0,x.ZP)(),te=(0,C.TH)(),oe=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),ae=(0,T.ZP)(),re=G||E||"oneTap"===q,se=(0,o.useSelector)((({pins:e})=>e[R])),le=(0,A.gC)()(U||se&&se.board),de=se.pinner,ce=d&&(null===(V=se.promoter)||void 0===V?void 0:V.id)===(null===(Y=se.native_creator)||void 0===Y?void 0:Y.id),ue=se.sponsorship?(0,v.jsx)(g.xv,{inline:!0,size:"100",weight:"bold",children:null==n?void 0:n.subtitle}):void 0,pe="overlay"===$,_e=W&&M&&Object.keys(M).length>0&&(0,v.jsx)(g.xu,{height:18,display:pe?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(a.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(w.Z,{children:(0,v.jsx)(D,{pinReactionCounts:M})})})}),he=r?0:_||1;return(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(g.xu,{display:"flex",height:u?e?104:72:void 0,marginEnd:y||1,marginStart:m||1,position:"relative",children:[(0,v.jsxs)(g.xu,{flex:"grow",children:[(0,v.jsx)(g.xu,{display:"flex",marginTop:he,children:(0,v.jsx)(g.xu,{flex:"grow",children:(0,v.jsxs)(t.Fragment,{children:[(0,v.jsxs)(t.Fragment,{children:[(c||s)&&!ce&&(0,v.jsx)(g.xu,{marginBottom:1,children:(0,v.jsx)(g.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(P.Z,{hasAffiliatedProducts:s,isPromoted:d,sponsorName:ue,sponsorshipStatus:null===(X=se.sponsorship)||void 0===X?void 0:X.status})})}),G&&!l&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:oe&&!r&&(0,v.jsx)(O,{title:G})}),"desktop"===ae&&!oe&&E&&!(0,L.$Y)(te)&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:te,item:"related-pins-description"})},children:(0,v.jsx)(g.xv,{size:"100",inline:!0,children:E})})})]}),e&&(0,v.jsx)(b,{credits:n,pinId:R}),"recipe"===q&&!!F&&(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!F&&(0,v.jsx)(f,{maxRating:N||"",rating:H||"",text:""}),!!B&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",children:"·"})}),(0,v.jsx)(g.xv,{size:"100",children:(0,j.IS)({...(0,I.u)(B),i18n:ne})})]})]})})]})})}),!pe&&_e,n&&(0,v.jsx)(p.Z,{onTouch:e=>Z&&Z(e),pressState:"none",children:(0,v.jsx)(g.xu,{children:(!r||c||ce)&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:pe?-9:_||(re&&!r?1:0),marginBottom:r?2:0,position:"relative",direction:pe?"column":"row",children:[(0,v.jsx)(g.xu,{flex:"none",display:pe?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:te,item:"related-pins-avatar-image"})},children:(0,v.jsx)(h.Z,{name:n.title||"",outline:pe,size:pe?"lg":"sm",src:pe&&n.largeAvatar||n.mediumAvatar||n.avatar||void 0})})}),(0,v.jsx)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:pe?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:(0,v.jsxs)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:te,item:"related-pins-name"})},children:[n.title&&(0,v.jsx)(g.xv,{lineClamp:1,size:"100",weight:c&&!ce||s?"normal":"bold",children:n.title===(null==de?void 0:de.full_name)&&(null!=de&&de.is_verified_merchant||null!=de&&null!==(J=de.verified_identity)&&void 0!==J&&J.verified)?(0,v.jsx)(S.Z,{badgeSize:"sm",badgeSpacing:2,fullName:n.title,verifiedType:de.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):n.title}),n.subtitle?(!c&&!r||ce)&&(0,v.jsx)(g.xv,{lineClamp:c||s?void 0:1,size:"desktop"===ae?"200":"100",weight:l||"desktop"===ae?"bold":"normal",children:n.subtitle}):!oe&&le?(0,v.jsx)(k.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(K=le.url)&&void 0!==K?K:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),(0,z.LW)({action:"click",pageLocation:te,item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:le.name})})}):null]})})]})})}),!n&&"desktop"===ae&&!!de&&((0,L.L6)(te)||(0,L.cD)(te)||(0,L.$Y)(te))&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:re?2:0,children:[(0,v.jsx)(g.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:te,item:"related-pins-avatar-image"})},children:(0,v.jsx)(h.Z,{name:de.username||"",size:"sm",src:null!==(Q=de.image_small_url)&&void 0!==Q?Q:void 0})})}),(0,v.jsxs)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(g.rU,{underline:"hover",href:`/${de.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_board"),(0,z.LW)({action:"click",pageLocation:te,item:"related-pins-name"})},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:de.full_name||de.username})}),(0,v.jsx)(k.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(ee=null==le?void 0:le.url)&&void 0!==ee?ee:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),(0,z.LW)({action:"click",pageLocation:te,item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:null!==(ie=null==le?void 0:le.name)&&void 0!==ie?ie:""})})})]})]}),pe&&_e]}),(0,v.jsx)(g.xu,{position:pe?"absolute":void 0,right:!0,children:i})]})})};var E=n(857079),R=n(349700);const U=(0,t.lazy)((()=>n.e(96011).then(n.bind(n,296011)))),M=({inviteCode:e})=>{const i=(0,x.ZP)();return(0,v.jsx)(g.xu,{minHeight:82,children:(0,v.jsx)(a.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(w.Z,{fallback:(0,v.jsx)(E.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:(0,v.jsx)(U,{invite_code:e,children:e=>{const n=e?e.sender:null,t=n&&n.first_name?n.first_name.substring(0,30):"";if(!t)return null;const o=n&&!n.is_default_image?n.image_medium_url:"",a=(0,R.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:t});return(0,v.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(g.zd,{height:32,width:32,children:(0,v.jsx)(h.Z,{name:t,src:o})}),(0,v.jsx)(g.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(g.xv,{align:"center",size:"200",weight:"bold",children:a})})]})}})})})})};var B=n(344941),N=n(116578),H=n(992750);function F({pin:e,board:i,pinner:n,isHideVase:t}){return(0,v.jsxs)(g.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(g.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(g.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,H.fs)(e)||e.description})}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(N.C,{pin:e,board:i,pinner:n,size:"sm",isHideVase:t})})]})}function W({pin:e,board:i,pinner:n}){var t;const o=(0,x.ZP)();if(!e)return null;const{pinProduct:a}=(0,y.Fi)({i18n:o,pin:e,useGridTitleOrRichSummary:!1}),r=(null==a?void 0:a.standard_price)||(null==a?void 0:a.price),s=null===(t=e.rich_summary)||void 0===t?void 0:t.site_name;return(0,v.jsxs)(g.xu,{paddingX:2,marginBottom:-1,display:"flex",direction:"column",children:[(0,v.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsxs)(g.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:[(0,v.jsx)(g.xv,{size:"100",weight:"bold",children:r}),(0,v.jsx)(g.xv,{size:"100",weight:"bold",lineClamp:r?3:2,children:(0,H.fs)(e)||e.description})]}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(N.C,{pin:e,board:i,pinner:n,size:"sm"})})]}),s&&r&&(0,v.jsx)(g.xv,{size:"100",children:s})]})}var $=n(285230),G=n(364245),q=n(81759),V=n(856919),Y=n(236458),X=n(825077),J=n(185894),K=n(378518),Q=n(813401),ee=n(550407),ie=n(55275);const ne={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:1,transition:"opacity 1s ease"}},te=(e,i,n)=>(0,v.jsx)(g.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{inline:!0,href:i,tapStyle:"none",underline:"hover",children:n})},e);function oe({color:e,getFeedbackText:i,onUnfollow:n,showing:o,unfollowed:a}){const r=(0,x.ZP)(),[s,l]=(0,t.useState)(o?"fadeIn":"initial"),d=(0,t.useRef)(null);(0,t.useEffect)((()=>("initial"===s&&o&&(d.current=window.requestAnimationFrame((()=>l("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[s,l,o]);const{subTitle:c,title:u,unfollow:p}=i(te);let _=u,h=c;p&&a&&(_=p.title,h=p.subTitle);const m=()=>p?(0,ie.t)(p.action,p.actionOptions,n):void 0;return o&&(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...ne[s]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(g.xu,{width:"100%",height:"100%",color:"darkGray",rounding:4,overflow:"auto",children:[(0,v.jsxs)(g.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(g.xu,{children:[(0,v.jsx)(g.X6,{size:"400",color:"inverse",children:_}),h&&(0,v.jsxs)(g.xu,{marginTop:1,children:[(0,v.jsx)(g.xv,{color:"inverse",size:"200",inline:!0,children:h}),(0,v.jsx)(g.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{href:"/edit",inline:!0,rounding:2,tapStyle:"none",underline:"hover",children:r._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!a&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:m})})]}),!a&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:m})})]})})}var ae=n(217468),re=n(780679),se=n(358589),le=n(266725);function de(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const ce=({isDesktop:e})=>e?0:1,ue=e=>Boolean(e.is_eligible_for_web_closeup),pe=e=>Boolean(e.promoter&&!e.is_downstream_promotion),_e={width:1,height:1,url:""},he=e=>{const{attribution:i,embed:n,is_eligible_for_web_closeup:t,rich_summary:o,videos:a,story_pin_data_id:r}=e,s=n||i&&i.embed;return t?"oneTap":a||s&&"video"===s.type?"video":s&&"gif"===s.type?"gif":o&&"product"===o.type_name?"product":o&&"recipe"===o.type_name?"recipe":r?"storyPin":"image"},me=e=>{if("video"===he(e)&&e.videos&&e.videos.video_list){const{duration:i=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,_.Z)(i)}return""},ge=e=>{var i;if("product"!==he(e))return null;const[n]=(null===(i=e.rich_summary)||void 0===i?void 0:i.products)||[];if(!n)return null;const t=n.offer_summary;return t&&(t.price||t.max_price)},ve=(0,t.lazy)((()=>Promise.all([n.e(74672),n.e(79211)]).then(n.bind(n,160465))));class fe extends t.Component{constructor(...e){super(...e),de(this,"state",{startImpressionTimer:!1,openContextMenuByLongPress:!1}),de(this,"getPinImage",(()=>{const{pin:e,isSquarePin:i,shouldLimitResolution:n}=this.props;if(!e||!e.images)return _e;if(n&&e.images["170x"])return e.images["170x"];var t;if(i)return{height:136,url:null===(t=e.images["236x"])||void 0===t?void 0:t.url,width:136};const o=["236x","170x","136x136","736x","474x","orig"];for(const a of o)if(e.images[a]&&e.images[a].url)return e.images[a];return _e})),de(this,"getImpressionData",(()=>{var e,i;const{pin:n}=this.props,t=null===(e=n.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,o=t?{isNativeVideoAndWatchable:!!(t&&t.url&&t.height&&t.width)||void 0,videoIdStr:t&&n.videos?n.videos.id:void 0}:{},a=this.getPinImage();return{richTypes:n.shopping_flags||[],imageURL:a.url||"",...o,...this.props.impressionData}})),de(this,"getAuxData",(()=>{const{auxData:e={},pin:i,pwaType:n}=this.props;return{commerce_data:(0,s.Z)(i),pwa_type:n,...e}})),de(this,"getFeedbackType",(()=>{const{board:e,feedback:i,viewParameter:n,pin:t}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:i,viewParameter:n,pin:t,pinner:t.pinner})})),de(this,"getRecommendationDescription",(e=>{const{board:i,pin:n}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:n.ad_match_reason,board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,promoter:n.promoter,recommendationReason:n.recommendation_reason,sourceInterest:n.source_interest})})),de(this,"getPinHiddenFeedbackText",(e=>{const{board:i,pin:n}=this.props,t=n.promoter,o=this.feedbackHelpers.getUnfollowAction({board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,sourceInterest:n.source_interest});return pe(n)&&null!=t&&t.full_name?{title:"",subTitle:(0,R.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:t.full_name})}:o?{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.getRecommendationDescription(e),unfollow:o}:{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.props.i18n._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}})),de(this,"feedbackHelpers",(0,r.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:R.nk})),de(this,"logOneTap",(()=>{const{pin:e,trackingParams:i,viewType:n,viewParameter:t,auxData:o}=this.props,a=(0,d.Z)(i,e.tracking_params),r={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:e.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:e.id,aux_data:{commerce_data:(0,s.Z)(e),grid_index:this.props.slotIndex,image_signature:e.image_signature,...this.props.auxData},clientTrackingParams:a};(0,le.j)({event_type:8948,view_type:n,view_parameter:t,object_id_str:e.id,clientTrackingParams:a,aux_data:{image_signature:e.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...o}}),(0,le.jC)(r),(0,le.j)({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:a,aux_data:{closeup_navigation_type:"web_closeup",image_signature:e.image_signature},object_id_str:e.id})})),de(this,"markPinAsSeen",(()=>this.props.markPinAsSeen(this.props.pinId))),de(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),de(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),de(this,"handleClick",(e=>{const{auxData:i,componentType:n,deviceType:t,pin:o,slotIndex:a,trackingParams:r,viewParameter:l,viewType:c,onPinClick:u,isAuth:p,unauthDesktopSignupModalPageContext:_}=this.props,h=e=>(0,z.My)(`unauth_pin_rep.${e}.${String(l)}`);if(h("click"),(0,le.ob)({view_type:c,view_parameter:l,element:o.story_pin_data_id?12372:35,component:n,object_id_str:o.id,clientTrackingParams:(0,d.Z)(r,o.tracking_params),aux_data:{commerce_data:(0,s.Z)(o),grid_index:a,image_signature:o.image_signature,...i}}),ue(o)||(0,le.j)({event_type:8948,view_type:c,view_parameter:l,object_id_str:o.id,clientTrackingParams:(0,d.Z)(r,o.tracking_params),aux_data:{image_signature:o.image_signature,commerce_data:(0,s.Z)(o),closeup_navigation_type:"click",grid_index:a,cosmic_ray_count:"3",...i}}),!p)switch((0,z.LW)({action:"click",item:"pin",pageLocation:this.props.location}),c){case 3:(0,z.NC)("click_pin_related_image");break;case 5:(0,z.NC)("click_board_pin_image");break;case 210:(0,z.NC)("click_topic_pin_image")}if(ue(o)&&this.logOneTap(),u&&u(),"desktop"===t){if(e.metaKey){h("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${o.id}/`,"_blank").focus()}else if(!p&&_){const{pinImageClickHandler:i}=_;i({event:e,pin:o,linkTarget:"duploClientNav"})}}})),de(this,"handleCreditsClick",(e=>{var i;const{history:n,pin:t}=this.props,{id:o,sponsorship:a,story_pin_data_id:r}=t,{creator:s,sponsor:l}=a||{},{id:d}=s||{},{id:c}=l||{},u=!!r;e.stopPropagation(),e.preventDefault();const p=null===(i=this.getCredits())||void 0===i?void 0:i.link;p&&n.push(p),(0,le.So)({view_type:3,element:27,object_id_str:o,component:u?230:void 0,aux_data:{pin_id:o,...d&&c?{creator_id:d,sponsor_id:c}:{}}})})),de(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed(this.props.pin.id))),de(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:i,board:n,setSharingOnBoardPage:t}=this.props;n&&i&&t&&n.isSocialSeasonalBoard&&t(!0,"pin",i.id)})),de(this,"isOverrideImageOnly",(()=>{const{pin:{rich_summary:e},viewer:i,viewParameter:n}=this.props,t=3375===n;return e&&43===n&&!(0,u.Z)(i)||t})),de(this,"convertToGif",(e=>{const i=Math.max(e.embed&&e.embed.width||0,236),n=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:i,height:n}}))}componentDidMount(){const{isAuth:e,slotIndex:i,pin:n,viewParameter:t,location:o}=this.props;if(!e&&0===i&&3070===t){const e=o.pathname;(0,q.H$)(e,n)}}getIsClaimedContent(){var e,i;const{pin:n,viewParameter:t}=this.props;return 3375===t&&!(null===(e=n.link_domain)||void 0===e||null===(i=e.official_user)||void 0===i||!i.is_primary_website_verified)}getCredits(){const{board:e,pin:i,storyPin:n,viewParameter:t}=this.props,o=i.pinner,a=i.promoter,r=null==n?void 0:n.has_product_pins,s=0===t,l=3475===t,d=3173===t,c=3375===t,u=this.getIsClaimedContent(),p=i.native_creator,_=!!i.native_creator,h=pe(i),{sponsorship:m}=i,{creator:g,sponsor:v}=m||{},f=h&&!!m&&(null==a?void 0:a.id)!==(null==p?void 0:p.id),x=!!m&&g;if(!(h||x||s||d||_||u))return;switch(f?"PROMOTED_SPONSORED":h?"PROMOTED":x?"SPONSORED":_?"AFFILIATED_PRODUCTS":r?"NATIVE_CONTENT":u?"CLAIMED_CONTENT":e&&"protected"===e.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==p?void 0:p.full_name,subtitle:null==a?void 0:a.full_name,avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:null!=p&&p.username?`/${p.username}/`:""};case"PROMOTED":return{title:this.props.i18n._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null==a?void 0:a.full_name,avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:null!=a&&a.username?`/${a.username}/`:""};case"SPONSORED":if(!m)throw new Error("sponsorship doesn't exist when expected");return{title:null==p?void 0:p.full_name,subtitle:null==v?void 0:v.full_name,avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:null!=p&&p.username?`/${p.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==p?void 0:p.full_name,subtitle:"",avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:null!=p&&p.username?`/${p.username}/`:""};case"NATIVE_CONTENT":let n=(null==e?void 0:e.url)||`/pin/${i.id}/`;return(c||l)&&(n=null!=p&&p.username?`/${p.username}/`:""),{title:l?this.props.i18n._('Created by', 'created by label for story pins', 'created by label for story pins'):"",subtitle:null==p?void 0:p.full_name,avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:n};case"CLAIMED_CONTENT":const{link_domain:t}=i,{official_user:r}=t||{};return r?{subtitle:r.full_name,avatar:this.getPinnerImage(r.image_small_url),mediumAvatar:this.getPinnerImage(r.image_medium_url),largeAvatar:this.getPinnerImage(r.image_large_url),link:r.username?`/${r.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._('Saved by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:"",avatar:this.getPinnerImage(null==o?void 0:o.image_small_url),mediumAvatar:this.getPinnerImage(null==o?void 0:o.image_medium_url),largeAvatar:this.getPinnerImage(null==o?void 0:o.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`};default:return{title:(null==o?void 0:o.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==o?void 0:o.image_small_url),mediumAvatar:this.getPinnerImage(null==o?void 0:o.image_medium_url),largeAvatar:this.getPinnerImage(null==o?void 0:o.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:i,viewedSharedPins:n,pinId:t}=this.props;return 92===i?null===(e=n&&n[t])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:i,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==i?void 0:i.display_name,description:n}}renderPinCard(){var e,i,n,t,o,r,s,u,_,h,m,f,x,y,b;const{activateSearchIdeaPinExperiment:P,activateUnauthRemoveVaseRelatedPinsExp:T,activateUnauthRemoveVaseRelatedPinsFFExp:S,board:j,country:I,disableAppUpsell:A,disablePinCardPadding:C,disableRounding:D,disableReaction:O,deviceType:E,experience:R,feedback:U,hidePinMetadata:N=!1,imageOnly:q,i18n:X,isAuth:J,isOneTapExploreLocalTab:K,isSquarePin:Q,isRelatedPinOnView:ee,isImageOnlyExp:ie,location:ne,marginBottom:te,marginStart:ae,marginEnd:re,onPinLinkClick:se,oneTapSave:le,pin:de,storyPin:_e,pinCardDetailsMarginTop:fe,slotIndex:xe,trafficSource:ye,viewParameter:be,viewType:we,shouldAllowProductPriceIndicator:Pe,showSeoMetadata:ke,topLevelTrafficSource:Te,topLevelTrafficSourceDepth:Se,undoAction:je,undoActionOptions:Ie,trackingParams:Ae,vaseDisplayMode:Ce,onUnauthDesktopContextMenu:ze}=this.props,{aggregated_pin_data:Le,category:De,image_signature:Oe,promoter:Ze,rich_summary:Ee,title:Re,sponsorship:Ue}=de,{description:Me,title:Be}=this.getPinText(),Ne="desktop"===E,He=he(de),Fe=0===be,We=3475===be,$e=pe(de),Ge=!!Ue,qe=null==_e?void 0:_e.has_product_pins,Ve=null==_e?void 0:_e.is_deleted,Ye=(0,d.Z)((ne&&ne.state||{}).trackingParams||Ae,de.tracking_params),Xe="product"===he(de)&&!J,Je=(0,L.L6)(ne)&&T().anyEnabled,Ke=(0,L.L6)(ne)&&S().anyEnabled,Qe=Je||Ke,ei=ie&&!this.isOverrideImageOnly(),ii=j&&j.isSocialSeasonalBoard,ni=this.getPinImage(),ti=ii&&"gif"===He?this.convertToGif(de):ni,oi=null===(e=de.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,ai=(0,H.hP)(null!==(n=de.description)&&void 0!==n?n:"",de.description_html||"",null===(t=de.pin_join)||void 0===t?void 0:t.seo_description,null===(o=de.pin_join)||void 0===o?void 0:o.visual_annotation,de.alt_text||""),{annotationsWithLinks:ri}=(0,H.eK)(de),si=J?Me:(0,c.Z)(de),li=R&&R.display_data.hideReactions||!1,di=R&&R.display_data.hideDesc||!1,ci=!O&&(0,Y.J6)(de)&&!We&&!li,ui=!J&&!!de.story_pin_data_id&&!!de.seo_url;let pi;pi=ue(de)?de.tracked_link||de.link:ui?de.seo_url:`/pin/${de.id}/`;const _i=!Me||ei&&!Fe?void 0:Me.trim(),hi=this.getSharedHeaderInviteCode(),mi={country:I,deeplinkUri:ui?de.seo_url:`pin/${de.id}`,external:ue(de),externalQueryParams:{pin:de.id,client_tracking_params:Ae},isAppUpsellDisabled:A,onTouch:this.handleClick,pinCategory:de.category,pressState:"none",rounding:4,title:this.props.i18n._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:pi,state:{trackingParams:Ae,trafficSource:ye,topLevelTrafficSource:Te,topLevelTrafficSourceDepth:Se}},upsellType:"direct",viewParameter:be,viewType:we,clientTrackingParams:Ye},gi=ce({isDesktop:Ne}),vi=de.native_creator||de.pinner,fi="search"===ye&&"storyPin"===He&&P().anyEnabled;return(0,v.jsxs)(g.xu,{"data-test-id":"pin","data-test-pin-id":de.id,marginBottom:te||(Ne||N?0:2),children:[(0,v.jsxs)(g.xu,{"data-test-id":ai||Be||Me?"pin-with-alt-text":"pin-missing-alt-text",paddingY:N||C?0:gi,paddingX:C?0:gi,marginBottom:0,onContextMenu:vi?ze(de,vi):void 0,children:[(0,v.jsxs)(V.MZ,{...mi,children:[!!hi&&(0,v.jsx)(M,{inviteCode:hi}),Ve?(0,v.jsx)($.Z,{isPinRep:!0}):(0,v.jsx)(B.Z,{clientTrackingParams:Ye,color:null!==(r=de.dominant_color)&&void 0!==r?r:"",description:_i,domainLinkData:de.domain&&de.link?{clickLoggingOptions:{auxData:{objectId:de.id,grid_index:xe,sanitized_url:de.link}},domain:de.domain,link:de.link,onClick:se}:void 0,disableRounding:D,hideBottomCardText:ii,image:ti,imageAltText:ai,imageCrop:de.image_crop,isMessenger:ii,isOneTapExploreLocalTab:K,isSquarePin:Q,isRelatedPinOnView:ee,onError:this.handleError,oneTapSave:le,onLoad:this.handleLoad,openCustomContextMenu:()=>this.setState({openContextMenuByLongPress:!0}),pinId:de.id,pinnedToBoardId:(null===(s=de.pinned_to_board)||void 0===s?void 0:s.id)||"",pinVideo:ii&&oi||void 0,productPrice:Pe?ge(de):null,slotIndex:xe,storyData:_e,title:!ei||Fe?Be:void 0,type:He,videoDuration:me(de),viewType:we})]}),(We||!q&&(J||"desktop"===E)||"shop_feed_auth_and_unauth_mweb_override"===ye)&&(0,v.jsxs)(g.xu,{children:[!Qe&&"desktopParity"===Ce&&ri&&ri.length>0&&(0,v.jsx)(G.Z,{annotations:ri,mode:"inlineWithScrollArrows"}),(0,v.jsx)(V.MZ,{...mi,children:(0,v.jsx)(Z,{allowPriceIndicator:!Pe&&["shop_feed","shop_feed_auth_and_unauth_mweb_override"].includes(ye),marginTop:fe,hidePinMetadata:N||di,contextMenu:J&&!Ve?(0,v.jsx)(g.xu,{marginStart:1,marginTop:fe,children:(0,v.jsx)(g.xu,{height:26,width:24,children:(0,v.jsx)(a.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(w.Z,{children:(0,v.jsx)(ve,{adMatchReason:de.ad_match_reason,bestPinImgSrc:(0,l.Z)({images:de.images,embedSrc:null===(u=de.embed)||void 0===u?void 0:u.src,embedType:null===(_=de.embed)||void 0===_?void 0:_.type}),feedback:U,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,imageSignature:Oe,pinCategory:De,pinDescription:si,pinId:de.id,pinImgSrc:ti.url,pinTitle:Re,sourceType:$e?"ad":Fe?"following":void 0,viewParameter:be,viewType:we,openByLongPress:this.state.openContextMenuByLongPress,trackingParams:Ae,toggleLongPress:()=>{this.setState({openContextMenuByLongPress:!1})}})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:qe,isHubFeed:We,isPromotedPin:$e,isSponsoredPin:Ge,isSquarePin:Q,marginStart:ae,marginEnd:re,onCreditsClick:this.handleCreditsClick,pinDescription:si,pinId:de.id,pinnedToBoardId:(null===(h=de.pinned_to_board)||void 0===h?void 0:h.id)||"",pinReactionCounts:de.reaction_counts,pinTagsChips:(Le||{}).pin_tags_chips,promoterName:null==Ze?void 0:Ze.full_name,recipeCookTime:ei?void 0:de.rich_summary&&de.rich_summary.display_cook_time,recipeMaxRating:ei||null==Ee||null===(m=Ee.aggregate_rating)||void 0===m?void 0:m.best_rating,recipeRating:ei||null==Ee||null===(f=Ee.aggregate_rating)||void 0===f?void 0:f.rating_value,recipeReviewCount:ei||null==Ee||null===(x=Ee.aggregate_rating)||void 0===x?void 0:x.review_count,shouldShowReactions:ci,style:fi?"overlay":"default",title:fi?void 0:Be,type:He})})]})]}),(null==j?void 0:j.isSocialSeasonalBoard)&&J&&(0,v.jsx)(g.xu,{color:"secondary",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(p.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(g.xu,{padding:3,children:(0,v.jsx)(g.xv,{align:"center",weight:"bold",children:X._('Send', ' - ', ' -- ')})})})}),"reported"===de.feedback_status?(0,v.jsx)(oe,{color:null!==(y=de.dominant_color)&&void 0!==y?y:"",getFeedbackText:()=>({title:this.props.i18n._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:this.props.i18n._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:de.id,showing:!!de.feedback_status}):(0,v.jsx)(oe,{color:null!==(b=de.dominant_color)&&void 0!==b?b:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:de.id,showing:!!de.feedback_status,undoAction:je,undoActionOptions:Ie,unfollowed:"unfollowed"===de.feedback_status,viewParameter:be,viewType:we}),ke&&"inlineHidden"===Ce&&!Xe&&(0,v.jsx)(k.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:ne,item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(F,{pin:de,board:j,pinner:de.pinner,isHideVase:Qe})})}),!J&&Xe&&(0,v.jsx)(W,{pin:de,board:j,pinner:de.pinner})]})}render(){const{componentType:e,pin:i,trackingParams:n,viewParameter:t,viewType:o,slotIndex:a,objectIdStr:r,viewData:s}=this.props,{startImpressionTimer:l}=this.state;return i?(0,v.jsx)(X.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!l,loggingId:i.id,objectIdStr:r,onTracked:this.markPinAsSeen,slotIndex:a,trackingParams:n,viewData:s,viewParameter:t,viewType:o,children:({impressionTrackerRef:e})=>(0,v.jsx)(g.xu,{ref:e,children:this.renderPinCard()})}):null}}const xe=(0,o.connect)((({boards:e,experiences:i,pins:n,session:t,users:o,storyPins:a},r)=>{const s=n[r.pinId]||null,l=s&&s.story_pin_data_id?a[s.story_pin_data_id]:void 0,d=i[1000107];return{board:s&&e[s.board],country:t.country,hasPoorConnection:t.hasPoorConnection,isAuth:t.isAuthenticated,isImageOnlyExp:d&&500678===d.experience_id,pin:s,storyPin:l,undoAction:s&&s.undoAction,undoActionOptions:s&&s.undoActionOptions,viewer:o[t.userId],viewedSharedPins:t.viewedSharedPins}}),((e,{viewParameter:i,viewType:n})=>({markPinAsSeen:t=>e((0,se.DX)({pinId:t,viewParameter:i,viewType:n})),markPinUnfollowed:i=>e((0,se.fH)(i,"unfollowed")),setSharingOnBoardPage:(i,n,t)=>e((0,J.Mj)(i,n,t))})))((function(e){const i=(0,x.ZP)(),n=(0,re.g)(),t=(0,ae.t)("mweb_web_android_ios_backend_clbc_display_controls"),o=(0,ae.t)("mweb_web_android_ios_clbc_eu_ad_string"),a=(0,ae.t)("mweb_search_ideapin_module"),r=(0,ae.t)("unauth_remove_vase_related_pins"),s=(0,ae.t)("unauth_remove_vase_related_pins_ff"),l=(0,T.ZP)(),d=(0,ee.B)(),c=(0,Q.yz)(),u=(0,K._)({id:1000107});return(0,v.jsx)(fe,{...e,onUnauthDesktopContextMenu:d,deviceType:l,activateEUSponsorshipDisclosureExp:o,activateSponsorshipDisclosureExp:t,activateSearchIdeaPinExperiment:a,activateUnauthRemoveVaseRelatedPinsExp:r,activateUnauthRemoveVaseRelatedPinsFFExp:s,experience:u,pwaType:c,unauthDesktopSignupModalPageContext:n,vaseDisplayMode:"desktop"===l?"desktopParity":"inlineHidden",i18n:i})}))},344941:(e,i,n)=>{n.d(i,{Z:()=>q});var t=n(667294),o=n(966338),a=n(733756),r=n(499128),s=n(898781),l=n(728214),d=n(569046),c=n(332611),u=n(185894),p=n(856919),_=n(479739),h=n(500594),m=n(358589),g=n(883119),v=n(925927),f=n(785893);const x=new g.Ry(1),y=(0,d.Z)((({buttonText:e,clientTrackingParams:i,color:n="red",deeplinkUri:d,experience:y,inline:b=!0,minWidth:w,onTouch:P,onUnsave:k,pinId:T,pinnedToBoardId:S,shape:j,shouldShowSavedButton:I,showRepinConfirmation:A,showToast:C,viewType:z,viewParameter:L,showSaveHandoffExperience:D})=>{var O;const Z=(0,s.ZP)(),E=(0,o.useDispatch)(),R=(0,v.k6)(),U=(0,v.TH)().pathname.startsWith("/pin"),M=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),B=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),N=null===(O=(0,o.useSelector)((e=>(0,_.ts)(e))))||void 0===O?void 0:O.pin_count,H=()=>{E((0,m.Bp)({history:R,i18n:Z,onSuccess:()=>{y&&E((0,c.CK)(y.placement_id,y.experience_id))},originalPinId:T,pinId:T,trackingParams:{clientTrackingParams:i,pinnedToBoardId:S},showRepinConfirmation:D&&!U?()=>{}:A,disableRepinAnimation:B===T,pinCount:N})).catch((e=>C((({hideToast:i})=>(0,f.jsx)(r.ZP,{variant:"error",text:e.message||Z._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))))},F=(0,t.useRef)(null),W=D&&!M,$=(0,l.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),P&&P(e),I?I&&k&&k():H()},modalHeader:(0,h.Bx)(Z)});(0,t.useEffect)((()=>{W&&!F.current&&(H(),E((0,u.e2)())),F.current=W}));const G=()=>Z._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),q=()=>e||Z._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return M&&!U?null:(0,f.jsx)(g.xu,{"data-test-id":"save-button-mobile",zIndex:x,children:d?(0,f.jsx)(p.di,{accessibilityLabel:G(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:d,inline:b,minHeight:48,minWidth:w,onTouch:$,pressState:["compress","background"],shape:j,size:"lg",text:q(),to:R.location.pathname,upsellType:"save",viewType:z,viewParameter:L}):(0,f.jsx)(a.Z,{accessibilityLabel:G(),color:n,customStyles:{padding:"14px 16px"},inline:b,minHeight:48,minWidth:w,onTouch:$,pressState:"compress",shape:j,size:"300",text:q()})})}));var b=n(634291),w=n(867820),P=n(716235),k=n(343341);function T(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class S extends t.PureComponent{constructor(...e){var i;super(...e),i=this,T(this,"state",{saveState:void 0}),T(this,"legoFixedZIndex",new g.Ry(2)),T(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:t,oneTapSave:o,pinId:a,pinnedToBoardId:s,showToast:l,viewType:d}=i.props;try{const t=await n((0,m.wh)({i18n:i.props.i18n,originalPinId:a,pinId:a,boardId:null==o?void 0:o.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==o?void 0:o.section,showToast:l,trackingParams:{clientTrackingParams:e,pinnedToBoardId:s},viewType:d}));i.setState({saveState:"saved"}),n((0,P.a)({boardId:null==o?void 0:o.boardId,localPinId:t.id,pinId:a}))}catch(c){l((({hideToast:e})=>(0,f.jsx)(r.ZP,{variant:"error",text:c.message||t._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),i.setState({saveState:void 0})}})),T(this,"onDeletePin",(async function(){const{dispatch:e,i18n:n,pinId:t,savedInfo:o,showToast:a}=i.props;if(o){e((0,P.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:t}));try{await e((0,m.q$)(o.localPinId,o.boardId)),a((({hideToast:e})=>(0,f.jsx)(r.ZP,{text:n._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),i.setState({saveState:void 0})}catch(s){a((({hideToast:e})=>(0,f.jsx)(r.ZP,{variant:"error",text:n._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),i.setState({saveState:"saved"})}}})),T(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:i}=this.state,{history:n,pinId:t,isOneTapExploreLocalTab:o,pinnedToBoard:a}=this.props;["saving","deleting"].includes(i)||o&&a||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),o?n.push({pathname:`/pin/${t}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,h.Bx)(this.props.i18n)})),T(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:n})=>e?!!i:!!n))}render(){const{children:e,clientTrackingParams:i,homepageExperience:n,i18n:o,isOneTapExploreLocalTab:a,isRTL:r,location:s,oneTapSave:l,pinId:d,pinnedToBoard:c,pinnedToBoardId:u,savedInfo:p,shouldShowSaveHandoffExp:_}=this.props;if(!l&&!a&&!_)return e;const h=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:a,pinnedToBoard:c,savedInfo:p}),m="#000",v="rgba(255, 255, 255, 0.8)",x="light",b="dark";return(0,f.jsxs)(t.Fragment,{children:[e,(0,f.jsx)(g.xu,{bottom:!0,left:r,padding:2,position:"absolute",right:!r,zIndex:this.legoFixedZIndex,children:_?(0,f.jsx)(y,{buttonText:!!c&&o._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'),clientTrackingParams:i,color:c?"white":"red",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:u,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!c,to:{pathname:`/pin/${d}/repin/`,state:{trackingParams:s.state?s.state.trackingParams:""}},showSaveHandoffExperience:_}):(0,f.jsx)(g.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?m:v}},padding:2,rounding:"circle",children:(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,f.jsx)(g.JO,{accessibilityLabel:h?o._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):o._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:h?"check":"add",color:h?x:b,size:"24"})})})})})]})}}const j=(0,o.connect)(((e,{pinId:i})=>({savedInfo:e.pins[i]&&e.pins[i].savedInfo,pinnedToBoard:e.pins[i]&&e.pins[i].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:i}=(0,k.F9)(),n=(0,s.ZP)(),a=(0,l.Z)(),r=(0,o.useDispatch)(),d=(0,v.k6)(),c=(0,v.TH)(),{isRTL:u}=(0,o.useSelector)((({session:e})=>e)),p=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),h=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),g=(0,o.useSelector)((e=>{var i;return null===(i=(0,_.ts)(e))||void 0===i?void 0:i.pin_count})),x=h&&!!p&&p===e.pinId,{pins:y,clear:P}=(0,b.Z)(),T=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{h&&!T.current&&y.length>0&&(T.current=!0,y.forEach((({id:e})=>{r((0,m.Bp)({history:d,i18n:n,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,pinCount:g})).catch((e=>{(0,w.My)(`error.unauth_profile_pin_merge.${e}`)}))})),P())})),(0,f.jsx)(S,{...e,i18n:n,requireAuthForLimitedLogin:a,history:d,location:c,showToast:i,shouldShowSaveHandoffExp:x,isRTL:u})}));j.displayName="OneTapSave";const I=j;var A=n(883561),C=n(349700);function z({boardUrl:e,boardName:i,isQuicksave:n,sectionName:t,sectionSlug:o}){const a=(0,s.ZP)(),r=(0,v.k6)(),l=new g.Ry(1),d=!!o&&`${e}${o}/`;return(0,f.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:l,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,f.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,f.jsx)(g.iP,{onTap:i=>{i.event.preventDefault(),r.push(n?"/me/":d||e)},children:(0,f.jsx)(g.xv,{color:"inverse",children:t?(0,C.nk)(a._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",inline:!0,children:(0,A.ZP)(t,22)},`pincard-${t}`)}):(0,C.nk)(a._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",inline:!0,children:n?a._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,A.ZP)(i,22)},`pincard-${i}`)})})})})})}var L=n(965708),D=n(365087),O=n(691426),Z=n(217468),E=n(50286);const R=({clientTrackingParams:e,pin:i,savedBoardId:n,show:a})=>{var r;const l=(0,s.ZP)(),d=(0,L.Z)(),c=(0,E.ml)(),[u,p]=(0,t.useState)(!(null==i||null===(r=i.pinned_to_board)||void 0===r||!r.id));(0,t.useEffect)((()=>{p(!(null==i||!i.savedThisSession))}),[null==i?void 0:i.savedThisSession]);const _=(0,O.Z)(i,null!=i&&i.pinned_to_board?{...i.pinned_to_board,id:n||i.pinned_to_board.id||"",isSocialSeasonalBoard:void 0,type:"board",sensitivity:void 0}:null,{showSingleToast:!0,onError:()=>p(!0)}),h=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),m=d&&!!h,v=(0,D.Z)({clientTrackingParams:e,experience:null,hasSaveHandoffExperience:m,onError:()=>p(!1),pinId:null==i?void 0:i.id,pinnedToBoardId:n,shouldShowSavedButton:!1,showSingleToast:!0}),x=(0,Z.t)("mweb_quick_save_rp"),{savedIcon:y,unsavedIcon:b,rotate:w,color:P}=(()=>{if(d&&a&&c){const e=x().group;if(e.startsWith("enabled_add_white"))return{unsavedIcon:"add",savedIcon:"check",rotate:!1,color:"white"};if(e.startsWith("enabled_pin_white"))return{unsavedIcon:"pin",savedIcon:"pin",rotate:!0,color:"white"};if(e.startsWith("enabled_pin_red"))return{unsavedIcon:"pin",savedIcon:"pin",rotate:!0,color:"red"}}return{rotate:!1,color:"lightGray"}})(),k=!u&&w?45:0;return(0,f.jsx)(g.xu,{children:!!b&&!!a&&(0,f.jsx)(g.xu,{zIndex:new g.Ry(2),overflow:"hidden",position:"absolute",bottom:!0,right:!0,margin:2,dangerouslySetInlineStyle:{__style:{transform:`rotateY(0deg) rotate(${k}deg)`,transition:"transform 0.5s"}},children:(0,f.jsx)(g.hU,{accessibilityLabel:l._('Quick save pin', 'pin.pincard.quicksave.iconAccessibilityLabel', 'icon for quick save action'),bgColor:u?"darkGray":P,icon:u?y:b,onClick:e=>{e.event.preventDefault(),p((e=>!e)),u?_():null==v||v(e.event)},size:"sm"})})})};var U=n(252745),M=n(310227),B=n(904411),N=n(780679),H=n(627995);const F=({domainLinkData:e})=>{const i=(0,s.ZP)(),n=(0,N.g)();return(0,f.jsxs)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,f.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,f.jsx)(g.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,f.jsx)(g.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,f.jsx)(H.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var W=n(53987);const $=({width:e,height:i,minY:n,maxY:t})=>{const o=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:n<=0?"0%":o(-1*n*i),bottom:t>=1?"0%":o(-1*(1-t)*i)}},G=({children:e,margin:i,disableRounding:n})=>(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,f.jsx)(g.zd,{wash:!0,rounding:n?0:M.mv,children:e})}),q=({clientTrackingParams:e,color:i,description:n,domainLinkData:a,hideBottomCardText:r,image:l,imageAltText:d,imageCrop:c,isMessenger:u,isOneTapExploreLocalTab:p,isSquarePin:_,isRelatedPinOnView:h,onError:m,oneTapSave:x,onLoad:y,openCustomContextMenu:b,pinId:P,pinnedToBoardId:k,pinVideo:T,productPrice:S,disableRounding:j,storyData:A,title:C,type:L,videoDuration:D,viewType:O})=>{var M,N,H,q,V,Y,X,J,K,Q;const ee=(0,s.ZP)(),[ie,ne]=(0,t.useState)(!1),te=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),oe=(0,E.ZP)(),ae=(0,o.useSelector)((({pins:e})=>e[P])),re=(0,B.gC)()(k||ae&&ae.board),se=k&&ae.savedThisSession,le=a&&a.link?"with-link":"without-link",de=!te&&"desktop"!==oe,ce=(0,f.jsx)(g.Ee,{alt:d||C||n||"",color:i,naturalHeight:null!==(M=l.height)&&void 0!==M?M:1,naturalWidth:null!==(N=l.width)&&void 0!==N?N:1,onError:m,onLoad:y,src:null!==(H=l.url)&&void 0!==H?H:"",fit:_?"cover":void 0}),ue=_?(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,f.jsx)(g.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:ce})}):ce,pe=(0,v.TH)(),_e=(0,Z.t)("mweb_custom_context_menu_on_longpress");return(0,f.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,f.jsxs)(g.xu,{onContextMenu:e=>{"desktop"!==oe&&((0,w.hL)((te?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:(0,W.C$)(pe)?"homefeed":(0,W.L6)(pe)?"related_pins":(0,W.En)(pe)?"search":"unknown"}),te&&_e().anyEnabled&&(e.preventDefault(),e.stopPropagation(),b()))},"data-test-id":`pincard-${L}-${le}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:de?void 0:()=>ne(!0),onMouseLeave:de?void 0:()=>ne(!1),position:"relative",rounding:j?0:4,children:[(0,f.jsxs)(I,{clientTrackingParams:e||"",oneTapSave:x,isOneTapExploreLocalTab:p,pinId:P,pinnedToBoardId:k,viewType:O,children:["gif"===L&&!r&&!se&&(0,f.jsx)(U.Z,{text:ee._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')}),"video"===L&&D&&!r&&!se&&(0,f.jsx)(U.Z,{text:D}),"storyPin"===L&&A&&"number"==typeof A.page_count&&A.page_count>0&&!se&&(0,f.jsx)(U.Z,{icon:"idea-pin",text:A.page_count.toString()}),"product"===L&&!!S&&(0,f.jsx)(U.Z,{text:S}),h&&(0,f.jsx)(R,{pin:ae,clientTrackingParams:e,savedBoardId:se,show:h}),(0,f.jsx)(G,{disableRounding:j,margin:c?$({width:null!==(q=l.width)&&void 0!==q?q:1,height:null!==(V=l.height)&&void 0!==V?V:1,minY:c.min_y,maxY:c.max_y}):void 0,children:"video"===L&&u&&T?(0,f.jsx)(g.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:ee._('Progress bar', 'PinCardVisual.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:"",aspectRatio:T.width/T.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(Y=l.url)&&void 0!==Y?Y:"",src:T.url,volume:0}):ue})]}),ie&&!te&&(0,f.jsx)(F,{domainLinkData:a}),te&&se&&(0,f.jsx)(z,{boardName:null!==(X=null==re?void 0:re.name)&&void 0!==X?X:"",boardUrl:null!==(J=null==re?void 0:re.url)&&void 0!==J?J:"",sectionName:null==x||null===(K=x.section)||void 0===K?void 0:K.title,sectionSlug:null==x||null===(Q=x.section)||void 0===Q?void 0:Q.slug,isQuicksave:"quick_saves"===(null==re?void 0:re.layout)})]})})}},252745:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(898781),o=n(643010),a=n(883119),r=n(785893);function s({text:e,icon:i,largeIdentifier:n,largeMargin:s}){const l=(0,t.ZP)();return(0,r.jsxs)(a.xu,{zIndex:new a.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,o.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:s?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[i&&(0,r.jsx)(a.xu,{marginEnd:n?2:1,children:(0,r.jsx)(a.JO,{accessibilityLabel:l._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:i,inline:!0,size:n?18:12})}),(0,r.jsx)(a.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},236458:(e,i,n)=>{function t(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,n)=>e[n]-e[i])).slice(0,3)}return null}function o(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function a(e){const{videos:i,is_downstream_promotion:n,is_promoted:t,story_pin_data_id:o,board:a}=e;return!(t||n||(!i||!i.id)&&!o||a&&a.is_collaborative)}n.d(i,{At:()=>t,J6:()=>a,Ud:()=>o})},116578:(e,i,n)=>{n.d(i,{C:()=>w,Z:()=>b});var t=n(667294),o=n(966338),a=n(373420),r=n(121151),s=n(941646),l=n(898781),d=n(784590),c=n(364245),u=n(349700),p=n(643010),_=n(925927),h=n(992750),m=n(867820),g=n(50286),v=n(883119),f=n(785893);function x({board:e,pinner:i}){var n,t;const o=(0,_.TH)(),a=(0,g.HG)();if(!e.url||!e.name)return null;const r=e.url.split("/")[1],l=i&&i.full_name?i.full_name:r,d=i&&(i.image_small_url||i.image_large_url);return(0,f.jsxs)(v.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[d?(0,f.jsx)(v.iP,{role:"link",href:`/${r}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,m.My)(`pcons.${a?"desktop":"mobile"}.see-more-button-creator`),(0,m.LW)({action:"click",pageLocation:o,item:"see-more-button-creator"})},children:(0,f.jsx)(v.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,f.jsx)(v.Ee,{naturalHeight:32,naturalWidth:32,alt:l,fit:"cover",color:"rgb(231, 186, 176)",src:d})})},"profile-link"):null,(0,f.jsxs)(v.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,f.jsx)(s.Z,{id:"see-more-button-creator-full-name",children:(0,f.jsx)(v.iP,{onTap:()=>{(0,m.My)(`pcons.${a?"desktop":"mobile"}.see-more-button-creator-full-name`),(0,m.LW)({action:"click",pageLocation:o,item:"see-more-button-creator-full-name"})},children:(0,f.jsx)(v.xv,{color:"default",inline:!0,size:"200",weight:"bold",children:(0,f.jsx)(v.rU,{href:`/${r}/`,inline:!0,tapStyle:"compress",underline:"hover",children:l},"profile-link")},"profileLink")})}),(0,f.jsx)(v.xv,{color:"default",inline:!0,size:"200",children:(0,f.jsx)(v.rU,{href:null!==(n=e.url)&&void 0!==n?n:"",inline:!0,tapStyle:"compress",underline:"hover",children:null!==(t=e.name)&&void 0!==t?t:""},"board-link")},"boardLink")]})]})}function y({annotations:e,board:i,description:n,pin:t,pinner:a,title:r,isAuth:s,pinCreditPrefix:d,onClickTitleOrDomain:p,isHideVase:h}){const y=(0,l.ZP)(),b=(0,_.TH)(),{isSeoBot:w}=(0,o.useSelector)((({session:e})=>e)),P=(0,g.ml)(),k=!s&&!w&&P,T=p||null;return(0,f.jsxs)(v.xu,{children:[!h&&(0,f.jsx)(v.xu,{marginBottom:2,children:e.length>0&&(0,f.jsx)(c.Z,{annotations:e,mode:"expanded"})}),(0,f.jsxs)(v.xu,{marginBottom:3,children:[(0,f.jsxs)(v.xu,{as:"figcaption",children:[(0,f.jsx)(v.X6,{color:"default",size:"400",accessibilityLevel:3,children:r}),(0,f.jsx)(v.xu,{height:4}),(0,f.jsx)(v.xv,{color:"default",children:n})]}),k&&(0,f.jsx)(v.xu,{marginTop:2,children:(0,f.jsx)(v.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,u.nk)(y._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,f.jsx)(v.xu,{display:"inlineBlock",children:(0,f.jsx)(v.xv,{inline:!0,size:"200",children:d})},"pinCreditsPrefix"),pinCredit:(0,f.jsx)(v.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,f.jsx)(v.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),(0,m.LW)({action:"click",pageLocation:b,item:"pin-domain-link"}),(0,m.My)("mweb_pin_page.pin_link.clickthrouh"),s||(0,m.NC)("click_pin_closeup_link_clickthrough"),T&&T()},tapStyle:"compress",children:(0,f.jsx)(v.xv,{size:"200",lineClamp:1,children:(0,f.jsx)("span",{style:{textDecoration:"underline"},children:t.domain})},"pinLinkDomain")})},"pinCredits")})})})]}),!!i&&(0,f.jsx)(x,{board:i,pinner:a})]})}function b({pin:e,board:i,iconColor:n,pinner:t,size:o,isAuth:a,isMainPin:r,pinCreditPrefix:s,onClickTitleOrDomain:l}){const c=e.id,{data:u,isLoaded:p}=(0,d.Z)({name:"PinResource",options:{id:c,field_set_key:"unauth_ssr_lazy_load"}}),_=p&&u&&(0,h.eK)(u).annotationsWithLinks||[];return(0,f.jsx)(w,{pin:e,board:i,iconColor:n,pinner:t,size:o,isAuth:a,isMainPin:r,pinCreditPrefix:s,onClickTitleOrDomain:l,lazyLoadedAnnotationsWithLinks:_})}function w({pin:e,board:i,iconColor:n,pinner:s,size:d,isAuth:c,isMainPin:u,pinCreditPrefix:x,onClickTitleOrDomain:b,lazyLoadedAnnotationsWithLinks:w,isHideVase:P}){const k=(0,l.ZP)(),{unauthInterstitialDismissed:T,isSeoBot:S}=(0,o.useSelector)((({session:e})=>e)),[j,I]=(0,t.useState)(!1),A=(0,g.HG)(),C=(0,g.Wb)(),z=w&&w.length>0?w:(0,h.eK)(e).annotationsWithLinks,{description:L}=(0,h.eK)(e),D=(0,h.fs)(e)||e.description,O=!A,Z=(0,_.TH)(),E=(0,f.jsxs)(v.xu,{padding:5,children:[(0,f.jsx)(v.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,f.jsx)(v.hU,{accessibilityLabel:k._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,m.My)("mweb.unauth.see_more.dismissed"),(0,m.LW)({action:"click",pageLocation:Z,item:"close-seo-vase-see-more-button"}),I(!1),u&&(0,m.My)("mweb.unauth.see_more.main_pin.dismissed")}})}),(0,f.jsx)(v.xu,{marginBottom:8,children:(0,f.jsx)(v.xv,{align:"center",weight:"bold",children:(0,f.jsx)("span",{className:"deprecatedTextSizeXL",children:k._('More information', 'more information label', 'more information label')})})}),(0,f.jsx)(y,{annotations:z,board:i,description:L,pin:e,pinner:s,title:D,isAuth:c,pinCreditPrefix:x,onClickTitleOrDomain:b,isHideVase:P})]});return(0,f.jsxs)(v.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,f.jsx)(v.hU,{accessibilityLabel:k._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:n,size:d||"md",onClick:({event:e})=>{e.stopPropagation(),(0,m.My)("mweb.unauth.see_more.shown"),(0,m.LW)({action:"click",pageLocation:Z,item:"seo-vase-see-more-button"}),I(!0),u&&(0,m.My)("mweb.unauth.see_more.main_pin.shown")}}),S&&O?(0,f.jsx)(v.xu,{display:j?"flex":"none",children:E}):(0,f.jsx)(r.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:j&&!C,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,f.jsx)(v.xu,{color:(0,p.Yc)()?"darkGray":"white",dangerouslySetInlineStyle:{__style:{border:(0,p.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:O?"100%":"100vw",zIndex:new v.Ry(1),children:(0,f.jsx)(v.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:T?0:12,children:E})})}),C&&j&&(0,f.jsx)(a.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:E})]})}},23084:(e,i,n)=>{n.d(i,{Z:()=>d,j:()=>l});var t=n(898781),o=n(883119),a=n(217468),r=n(349700),s=n(785893);const l=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:i,sponsorName:n,sponsorshipStatus:d,textColor:c}){const u=(0,t.ZP)(),p=(0,a.t)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;let _;i?_=(0,r.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):d||0===d?n&&!l.includes(d)?_=(0,r.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==d&&(_=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(_=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const h=p&&!i?"Ad • ":"";return(0,s.jsxs)(o.xv,{color:c,size:"100",children:[h,_]})}},364245:(e,i,n)=>{n.d(i,{Z:()=>p});var t=n(667294),o=n(941646),a=n(898781),r=n(867820),s=n(925927),l=n(883119),d=n(785893);function c({direction:e,handleClick:i,testId:n}){const t=(0,a.ZP)(),c=(0,s.TH)();return(0,d.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{(0,r.LW)({action:"click",pageLocation:c,item:"board-pills-arrow"}),i(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,d.jsx)(o.Z,{id:"board-pills-arrow",children:(0,d.jsx)(l.JO,{accessibilityLabel:t._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function u({name:e,url:i}){const[n,o]=(0,t.useState)(!1),a=(0,s.TH)();return(0,d.jsx)(l.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:(0,d.jsx)(l.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:i?(0,d.jsx)(l.rU,{inline:!0,tapStyle:"compress",href:i,rounding:8,onClick:()=>{(0,r.LW)({action:"click",pageLocation:a,item:"vase-tag"})},underline:"hover",children:e}):e})})}function p({annotations:e,mode:i}){const[n,a]=(0,t.useState)(!1),[p,_]=(0,t.useState)(!1),h=(0,s.TH)(),m=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=m.current,n=()=>{if("inlineWithScrollArrows"===i&&m.current){const e=m.current,i=Math.max(0,e.scrollLeft),n=i+e.clientWidth;a(0!==i),_(n<e.scrollWidth)}else a(!1),_(!1)};return n(),null==e||e.addEventListener("scroll",n),()=>{null==e||e.removeEventListener("scroll",n)}}),[i]);const g=e=>i=>{i.preventDefault(),i.stopPropagation(),"right"===e&&(0,r.LW)({action:"click",pageLocation:h,item:"board-pills-arrow-button-right"});const n=m.current;if(!n)return;const t=("left"===e?-1:1)*n.clientWidth*.5;n.scrollLeft=Math.min(Math.max(n.scrollLeft+t,0),n.scrollWidth)};return(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"end",children:(0,d.jsxs)(l.xu,{display:"flex",overflow:"hidden",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[n&&(0,d.jsx)(c,{direction:"left",handleClick:g("left"),testId:"left-scroll-arrow"}),(0,d.jsx)(l.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",padding:"4px 0",whiteSpace:"nowrap"}},ref:m,display:"expanded"===i?"flex":void 0,wrap:"expanded"===i,children:e.map((({name:e,url:i})=>(0,d.jsx)(u,{name:e,url:i},i||e)))}),p&&(0,d.jsx)(o.Z,{id:"board-pills-arrow-button-right",children:(0,d.jsx)(c,{direction:"right",handleClick:g("right"),testId:"right-scroll-arrow"})})]})})}},474635:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(667294),o=n(735079),a=n(949372),r=n(53987),s=n(407043),l=n(385740),d=n(867820),c=n(266725),u=n(925927),p=n(785893);function _({children:e,componentType:i,within:n}){const _=(0,u.TH)(),{flushContextEvents:h}=(0,s.v)(),{viewType:m,viewParameter:g}=(0,l.SU)();(0,t.useEffect)((()=>{(0,d.LW)({action:"view",item:"download-button",pageLocation:_,within:n})}),[_,n]),(0,t.useEffect)((()=>{(0,c.j)({component:13106,element:10308,event_type:9976,view_type:129})}),[]);const v=(0,a.Z)();return(0,t.useEffect)((()=>{v||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[v,n]),(0,p.jsx)(o.Z,{children:t=>e({handleOpenApp:e=>{var o;((0,d.LW)({action:"click",item:"download-button",pageLocation:_,within:n}),(0,d.NC)("press_open_app",!0),(0,c.So)({component:i||13106,element:10308,view_type:m,view_parameter:g}),(0,c.j)({component:13106,element:10308,event_type:9977,view_type:129}),h(!0),t)&&t(null!==(o=null==e?void 0:e.deepLinkUri)&&void 0!==o?o:(e=>"/"===e.pathname?"/":(0,r.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(_))}})})}},205443:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(966338),o=n(104788),a=n(430322),r=n(898781),s=n(287072),l=n(968228),d=n(194095),c=n(883119),u=n(785893);const p=({isOpen:e,onDismiss:i,onOpenInApp:n,to:d})=>{const p=(0,r.ZP)(),{isTablet:_,userAgent:h,userAgentPlatform:m}=(0,t.useSelector)((({session:e})=>e)),g=(0,l.Rp)({platform:m,userAgent:h}),v=(0,s.Z)({href:null!=d?d:""}),f=_?60:40;return(0,u.jsx)(a.default,{accessibilityModalLabel:"",isOpen:e,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,u.jsxs)(c.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,u.jsx)(c.xu,{display:"inlineBlock",position:"absolute",children:(0,u.jsx)(c.xu,{"data-test-id":"appUpsell-continue",children:(0,u.jsx)(c.hU,{accessibilityLabel:p._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{i({event:e}),v&&!e.defaultPrevented&&(n(),v({event:e}))},size:"lg"})})}),(0,u.jsxs)(c.xu,{paddingX:2,paddingY:6,children:[(0,u.jsx)(c.xu,{paddingY:2,justifyContent:"center",display:"flex",children:g?(0,u.jsx)(o.Z,{size:f}):(0,u.jsx)(c.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:f})}),(0,u.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,u.jsx)(c.xu,{paddingY:2,children:(0,u.jsx)(c.X6,{align:"center",size:"400",children:g?p._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):p._('The best experience is on the app', 'mweb.unauth.app_upsell.app_value_prop', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')})}),(0,u.jsx)(c.xv,{align:"center",size:"300",children:g?p._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):p._('Free, unlimited access to ideas', 'Value proposition on mobile web home page', 'Value proposition on mobile web home page')}),(0,u.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,u.jsx)(c.zx,{fullWidth:!0,size:"lg",color:"red",onClick:n,text:p._('Get the app', 'mweb.app_upsell.app_upsell_button_text', 'Button to get the Pinterest Lite app')})})]})]})]})})};function _({clientTrackingParams:e,isOpen:i,onDismiss:n,onOpenInApp:t,shouldTrackDismiss:o,to:a,viewParameter:r,viewType:s}){return(0,u.jsx)(d.Z,{clientTrackingParams:e,viewType:s,viewParameter:r,children:(0,u.jsx)(p,{isOpen:i,onDismiss:e=>{o&&(0,d.y)(),n(e)},onOpenInApp:()=>{(0,d.y)(),t()},to:a})})}},194095:(e,i,n)=>{n.d(i,{Z:()=>u,y:()=>c});var t=n(667294),o=n(807609),a=n(674806),r=n(30287),s=n(622096),l=n(957161),d=n(785893);const c=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,s.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:i,viewParameter:n,viewType:s}){return(0,o.Z)()||(0,r.FP)(window)?null:(0,d.jsx)(a.Z,{viewType:s,viewParameter:n,component:13106,clientTrackingParams:i,children:(0,d.jsx)(t.Fragment,{children:e})})}},840137:(e,i,n)=>{n.d(i,{ZP:()=>m,j$:()=>h,Ys:()=>p,IS:()=>_});var t=n(883119),o=n(785893);function a({category:e,ingredients:i,textSize:n="300"}){return(0,o.jsxs)(t.xu,{marginBottom:4,children:[e&&(0,o.jsx)(t.xu,{children:(0,o.jsx)(t.xv,{weight:"bold",size:n,children:e})}),(null!=i?i:[]).map((e=>{var i,a;return(0,o.jsx)(t.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,o.jsxs)(t.xv,{size:n,children:[e.amt||null," ",e.name]})},`${null!==(i=e.name)&&void 0!==i?i:""}-${null!==(a=e.name)&&void 0!==a?a:""}`)}))]})}var r=n(134185),s=n(50286),l=n(349700),d=n(578661),c=n(923297),u=n(898781);const p=({m:e,h:i,rm:n,rh:t},o)=>e&&(!i||t<=0)?(0,l.nk)(o.ngettext('{{mins}} minute', '{{mins}} minutes', n, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):i?(0,l.nk)(o.ngettext('{{hrs}} hour', '{{hrs}} hours', t, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:t.toString()}):null,_=({m:e,h:i,rm:n,rh:t,i18n:o})=>e&&(!i||t<=0)?(0,l.nk)(o._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:n.toString()}):i?(0,l.nk)(o._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):null,h=(e,i)=>{let n;return n=e.cook_times&&e.cook_times.total?(0,c.X)({m:e.cook_times.total.m||0,h:e.cook_times.total.h||0}):(0,c.X)({m:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.m||0,h:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.h||0}),p(n,i)},m=({recipe:e,pinLink:i,image:n})=>{const l=(0,u.ZP)(),c=(0,s.ZP)(),{name:p,categorized_ingredients:_}=e,m=_&&(e=>{const i=e.diets&&e.diets.length>0&&e.diets.join(", "),n=e.servings_summary&&e.servings_summary.summary;return i&&n?`${i} • ${n}`:i||n})(e),g=(e=>e.categorized_ingredients?e.categorized_ingredients.reduce(((e,i)=>{var n,t;return e+(null!==(n=null===(t=i.ingredients)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}),0):0)(e);return h(e,l)||g||m?(0,o.jsxs)(t.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,o.jsxs)(t.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,o.jsx)(t.xu,{marginBottom:4,children:(0,o.jsx)(t.xv,{weight:"bold",align:"desktop"===c?"start":"center",children:l._('Ingredients', 'Ingredients category heading for recipes', 'Ingredients category heading for recipes')})}),(0,o.jsxs)(r.Z,{itemScope:!0,itemType:d.G,children:[(0,o.jsx)("meta",{content:p,itemProp:"name"}),n&&(0,o.jsx)("meta",{content:n,itemProp:"image"}),Array.isArray(_)&&_.length>0&&(0,o.jsx)(t.xu,{column:12,"data-test-id":"single-column-ingredients",children:_.map((({category:e,ingredients:i},n)=>(0,o.jsx)(t.xu,{marginBottom:2,children:(0,o.jsx)(a,{category:e,ingredients:i,textSize:"300"})},n)))})]})]}),(0,o.jsx)(t.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===c?"center":void 0,children:i&&(0,o.jsx)(t.rU,{href:i,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,o.jsx)(t.zx,{text:l._('Make it', 'closeup.recipe.make_it_button', 'label for button go to recipe link')})})})]}):null}},871482:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(966338),o=n(248975),a=n(50286),r=n(667679),s=n(969230),l=n(185894),d=n(870167);function c(e){const i=(0,d.a)(),n=(0,t.useDispatch)(),c=(0,a.ZP)(),u=(0,r.Z)(),p=!!(e&&i&&i.unauthSavedPinsStore.isSaved(e.id));if(i&&e)return{isSaved:p,onSave:()=>{(0,s.y3)({action:"save_click",placement:"closeup",isAuthenticated:!1});let t="save",a=!0;if("desktop"!==c){const{unauthSavedPinsStore:s}=i,c=!!s.pins.length,u=s.canSaveMore();var r,d;if(u)s.save({id:e.id,imageUrl:(0,o.Z)({images:e.images,embedSrc:null===(r=e.embed)||void 0===r?void 0:r.src,embedType:null===(d=e.embed)||void 0===d?void 0:d.type})}),a=!c;else n((0,l.QZ)(e.id));t=u?"extended_save_in_quota":c?"extended_save_out_of_quota":"save"}a&&u({attributionLabel:"tap.closeup.save_button",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:t},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}}})},onUnsave:()=>{i.unauthSavedPinsStore.unsave(e.id),(0,s.y3)({action:"unsave_click",placement:"closeup",isAuthenticated:!1})}}}},568388:(e,i,n)=>{n.d(i,{Z:()=>h,z:()=>d});var t=n(667294),o=n(966338),a=n(391254),r=n(281180),s=n(883119),l=n(785893);const d=2500,c={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},_={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},h=(0,t.memo)((({children:e})=>{const i=(0,r.Tt)(),n=(0,o.useSelector)((({pins:e})=>{const n=null==i?void 0:i.last_repin_id;return n?e[n]:null})),t=(0,o.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!n||!t)return e;const{images:d}=n,{height:h,width:m,url:g}=(null==d?void 0:d["136x136"])||(null==d?void 0:d["236x"])||{};return(0,l.jsxs)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(a.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,l.jsxs)(s.xu,{position:"relative",children:[(0,l.jsxs)(s.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:c,children:[(0,l.jsx)(s.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,l.jsx)(s.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,l.jsx)(s.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,l.jsx)(s.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=m?m:1,naturalHeight:null!=h?h:1,src:null!=g?g:""})})})]}),(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:_,children:e})]})]})}))},365087:(e,i,n)=>{n.d(i,{Z:()=>x});var t=n(667294),o=n(966338),a=n(499128),r=n(898781),s=n(728214),l=n(568388),d=n(185894),c=n(343341);var u=n(332611),p=n(479739),_=n(500594),h=n(358589),m=n(217468),g=n(925927),v=n(785893);const f=()=>{};function x({clientTrackingParams:e,experience:i,hasSaveHandoffExperience:n,onError:x,onTouch:y,onUnsave:b,pinId:w,pinnedToBoardId:P,shouldShowSavedButton:k,showSingleToast:T}){var S;const j=(0,r.ZP)(),I=(0,o.useDispatch)(),A=(0,g.k6)(),C=(0,g.TH)(),{showToast:z}=(0,c.F9)(),L=function({showSingleToast:e}){const i=(0,o.useDispatch)(),n=(0,c.F9)()[e?"showOneToast":"showToast"];return(e,t)=>{t||i(d.WF),setTimeout((()=>{t||i(d.a5),n(e)}),l.z)}}({showSingleToast:T}),D=C.pathname.startsWith("/pin"),O=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),Z=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),E=null===(S=(0,o.useSelector)((e=>(0,p.ts)(e))))||void 0===S?void 0:S.pin_count,R=(0,t.useRef)(null),U=n&&!O,M=(0,s.Z)(),B=(0,m.t)("mweb_save_to_profile_toast_changes"),N=w?()=>{I((0,h.Bp)({activateSaveToProfileToastExp:B,history:A,i18n:j,onSuccess:()=>{i&&I((0,u.CK)(i.placement_id,i.experience_id))},originalPinId:w,pinId:w,trackingParams:{clientTrackingParams:e,pinnedToBoardId:P},showRepinConfirmation:n&&!D?()=>{}:L,disableRepinAnimation:Z===w,pinCount:E})).catch((e=>{z((({hideToast:i})=>(0,v.jsx)(a.ZP,{variant:"error",text:e.message||j._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i}))),null==x||x()}))}:f;if((0,t.useEffect)((()=>{U&&!R.current&&w&&(N(),I((0,d.e2)())),R.current=U})),!w)return null;return M({fn:e=>{e.stopPropagation(),e.preventDefault(),y&&y(e),k?k&&b&&b(e):N()},modalHeader:(0,_.Bx)(j)})}},569046:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(966338),o=n(568388),a=n(708206),r=n(185894),s=n(343341),l=n(785893);const d=(0,a.compose)((0,t.connect)(null,(function(e){return{hideRepinAnimation:()=>e((0,r.a5)()),showRepinAnimation:()=>e((0,r.WF)())}})),(function(e){return i=>{const{hideRepinAnimation:n,showRepinAnimation:t}=i,{showToast:a,showOneToast:r}=(0,s.F9)();return(0,l.jsx)(e,{...i,showToast:a,showOneToast:r,showRepinConfirmation:(e,i)=>{i||t(),setTimeout((()=>{i||n(),a(e)}),o.z)}})}}))},877867:(e,i,n)=>{n.d(i,{a:()=>l});var t=n(499128),o=n(162158),a=n(789363),r=n(358589),s=n(785893);const l=({dispatch:e,i18n:i,showToast:n,newPinId:l,shouldRefresh:d=!1,sourcePinId:c,boardId:u,boardSectionId:p,onError:_,originalPinId:h,onSuccess:m})=>e((0,r.q$)(l,u,p)).then((()=>{h&&e((0,r.t_)(h,u,p)),e((0,r.t_)(c,u,p)),d&&(p&&e((0,a.A4)(p)),u&&e((0,o.u)(u))),n((({hideToast:e})=>(0,s.jsx)(t.ZP,{text:i._('Pin deleted!', 'Utils.Unsave.Success', 'User deleted their pin'),onHide:e}))),m&&m()})).catch((()=>{n((({hideToast:e})=>(0,s.jsx)(t.ZP,{variant:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Utils.Unsave.Error', 'Error when user tried to delete pin'),onHide:e}))),null==_||_()}))},691426:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(966338),o=n(898781),a=n(728214),r=n(871482),s=n(877867),l=n(925927),d=n(343341);function c(e,i,n){const c=(0,t.useDispatch)(),{showSingleToast:u,onError:p}=n||{},_=(0,a.Z)(),h=(0,d.F9)()[u?"showOneToast":"showToast"],m=(0,o.ZP)(),g=(0,r.Z)(e),v=(0,l.k6)(),{isAuthenticated:f,userId:x}=(0,t.useSelector)((({session:e})=>e)),y=null==e?void 0:e.pinner,b=_({fn:()=>{if(!e||!i||!y)return void(null==p||p());const n=y.id===x,t=!n&&e.savedThisSession?e.savedThisSession:e.id,o=!n&&e.pinned_to_board&&e.pinned_to_board.id?e.pinned_to_board.id:i.id,a=n?v.goBack():void 0,r=e.section?e.section.id:void 0;(0,s.a)({dispatch:c,i18n:m,showToast:h,newPinId:t,shouldRefresh:!0,sourcePinId:e.id,boardId:o,boardSectionId:r,onSuccess:a,onError:p})}});return f?b:(null==g?void 0:g.onUnsave)||(()=>{})}},285230:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(166300),o=n(898781),a=n(883119),r=n(785893);function s({isPinRep:e}){const i=(0,o.ZP)(),n=e?"default":"inverse",s=(0,r.jsx)(a.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(a.xu,{color:e?"lightGray":"darkGray",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(a.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(a.xu,{paddingY:4,children:(0,r.jsx)(a.JO,{accessibilityLabel:i._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,r.jsx)(a.xv,{align:"center",color:n,weight:"bold",children:i._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,r.jsx)(a.xu,{paddingY:1,children:(0,r.jsx)(a.xv,{align:"center",color:n,children:i._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?s:(0,r.jsx)(a.xu,{height:"100vh",children:(0,r.jsx)(t.Z,{children:s})})}},957980:(e,i,n)=>{n.d(i,{Z:()=>m});var t=n(667294),o=n(248975),a=n(898781),r=n(667679),s=n(349700),l=n(755506),d=n(864537),c=n(867820),u=n(925927),p=n(883119),_=n(785893);const h=({children:e,onTap:i})=>{const[n,o]=(0,t.useState)(!1);return(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,_.jsx)(p.iP,{onTap:i,onBlur:()=>o(!1),onFocus:()=>o(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:e})})};function m({desktopContextMenuState:e,pin:i,pinner:n,isMainPinImage:m,source:g}){var v,f,x,y;const b=(0,a.ZP)(),w=(0,u.k6)(),P=(0,o.Z)({images:i.images,embedSrc:null===(v=i.embed)||void 0===v?void 0:v.src,embedType:null===(f=i.embed)||void 0===f?void 0:f.type}),k=(0,l.Fi)({i18n:b,pin:i});let{sourceUser:T}=k;var S;T&&"string"!=typeof T||(T=null!==(S=i.link_domain)&&void 0!==S&&S.official_user?i.link_domain.official_user:n);const{full_name:j,username:I}=T,A=(null===(x=i.pin_join)||void 0===x?void 0:x.seo_breadcrumbs)&&i.pin_join.seo_breadcrumbs[0],C=null==A?void 0:A.name,z=null==A?void 0:A.url,[L]=(null===(y=i.pin_join)||void 0===y?void 0:y.visual_annotation)||[],D=(0,d.NO)(L),O=`/search/pins/?q=${encodeURIComponent(D)}&rs=image_only_attribution`,Z=(0,r.Z)(),E="dweb.plp.ellipsis.button"===g;return P?(0,_.jsxs)(p.xu,{position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new p.Ry(99999),color:"white",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,_.jsx)(p.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,_.jsx)(p.JO,{icon:"pinterest",accessibilityLabel:b._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),(0,_.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.save_image"),Z({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:i.id}}})},children:(0,_.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})}),!(m||E&&!i.link)&&(0,_.jsx)(h,{onTap:()=>{(0,c.My)(E?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(E?i.link:`/pin/${i.id}/`),E||Z({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,_.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})}),(L||!(!C||!z))&&(0,_.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.see_more_pins"),z?w.push(`${z}`):w.push(O)},children:C?(0,_.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:C})}):(0,_.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:L})})}),!(!j||!I)&&(0,_.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.more_from_creator"),w.push(`/${I}/`)},children:(0,_.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:j})})}),(0,_.jsx)(t.Fragment,{children:(0,_.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.login_signup"),Z({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.login_signup",desktopOptions:{modalType:"login"}})},children:(0,_.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}},803035:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(667294),o=n(157983),a=n(883119),r=n(785893);const s=function({badgeSize:e,badgeSpacing:i,fullName:n,verifiedType:s,truncate:l=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return l?(0,r.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(a.xv,{lineClamp:1,weight:"bold",children:n}),(0,r.jsx)(a.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,r.jsx)(o.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]}):(0,r.jsxs)(t.Fragment,{children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,r.jsx)(a.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,r.jsx)(o.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]})]})}},104788:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(785893);function o({size:e,noCircle:i}){return(0,t.jsxs)("svg",{height:e,style:{display:"block"},viewBox:i?"3 3 70 70":"-3 -3 82 82",width:e,children:[i?null:(0,t.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,t.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},558150:(e,i,n)=>{function t(e){if(e){const i=e.shopping_flags||[],n={pin_is_shop_the_look:i.includes(2),pin_show_pdp:e.is_eligible_for_pdp||e.is_oos_product||e.is_stale_product,is_available:i.includes(1),is_product_pin_v2:i.includes(5),is_rich_product_pin:i.includes(6)};return JSON.stringify(n)}}n.d(i,{Z:()=>t})},968228:(e,i,n)=>{n.d(i,{G3:()=>c,Rp:()=>d,kp:()=>l});var t=n(622096),o=n(202139),a=n(957161);const r=14*o.F4;function s(e,i,n){return e-i>n}const l=e=>{const i=function(){const e=Date.now(),i=Number((0,a.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,a.qn)("firstUpsellTime")),lastUpsellTime:i,showedAppUpsellCurrentSession:Boolean((0,t.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,i,n){const{currentTime:t,firstUpsellTime:o,lastUpsellTime:l,showedAppUpsellCurrentSession:d}=e;return n=n||r,!o||function(e,i,n){return e<i+n}(t,o,i)?!d:!!s(t,l,n)&&((0,a.L_)("firstUpsellTime"),!0)}(i,o.F4):function(e,i){const{currentTime:n,lastUpsellTime:t}=e;return i=i||r,!t||s(n,t,i)}(i)},d=({platform:e,userAgent:i})=>{try{return"android"===e&&parseFloat((e=>{const i=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return i?i[1]:void 0})(i))<7}catch(n){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},550407:(e,i,n)=>{n.d(i,{B:()=>d,g:()=>c});var t=n(667294),o=n(867820),a=n(50286),r=n(957980),s=n(785893);const l=(0,t.createContext)((()=>()=>{})),d=()=>(0,t.useContext)(l),c=({children:e})=>{const[i,n]=(0,t.useState)(null),[d,c]=(0,t.useState)(null),[u,p]=(0,t.useState)(null),[_,h]=(0,t.useState)(!1),m=(0,a.HG)(),g=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,t.useEffect)((()=>g),[]);const v=(0,t.useCallback)(((e,i,t)=>a=>{m&&(a.preventDefault(),c(e),i&&p(i),h(t),(0,o.My)("dweb.unauth.context_menu.open_menu"),n({xPosition:a.clientX,yPosition:a.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"))}),[m]),f=!!i;return(0,t.useEffect)((()=>{const e=()=>{n(null),g(),(0,o.My)("dweb.unauth.context_menu.click_away")};return f&&document.addEventListener("click",e),()=>{f&&document.removeEventListener("click",e)}}),[f]),(0,s.jsx)(l.Provider,{value:v,children:(0,s.jsxs)(t.Fragment,{children:[e,m&&i&&d&&u&&(0,s.jsx)(r.Z,{desktopContextMenuState:i,pin:d,pinner:u,isMainPinImage:!!_})]})})}},634291:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(667294),o=n(807609),a=n(957161);const r=e=>{const i=(0,a.qn)(e);if(!i)return null;try{return JSON.parse(i)}catch(n){return null}};var s=n(217468);const l=()=>{const[e,i]=function(e){const i=(0,o.Z)(),[n,s]=(0,t.useState)(i?null:r(e));return(0,t.useEffect)((()=>{s(r(e))}),[e]),[n,(0,t.useCallback)((i=>{s(i),null===i?(0,a.L_)(e):(0,a.Nh)(e,JSON.stringify(i))}),[e])]}("unauthSavedPins"),n=null!==(d=null==(l=e)?void 0:l.pins)&&void 0!==d?d:[];var l,d;const c=e=>i((e=>e.length?{pins:e}:null)(e)),u=(0,s.t)("pcons_mweb_save_v3"),p=()=>{const{anyEnabled:e,group:i}=u();let t=0;if(e){const e=i.split("_")[1];t=e?parseInt(e,10):0}return n.length<t};return{pins:n,save:e=>{p()&&c(n.filter((({id:i})=>i!==e.id)).concat([e]))},unsave:e=>c(n.filter((({id:i})=>i!==e))),isSaved:e=>n.some((({id:i})=>i===e)),clear:()=>c([]),canSaveMore:p}}},789363:(e,i,n)=>{n.d(i,{A4:()=>p,ET:()=>m,Nv:()=>u,PA:()=>d,X_:()=>h,ic:()=>_,o4:()=>c});var t=n(6637),o=n(163786),a=n(414327),r=n(782677),s=n(983360);const l=(e,i)=>({type:s.nk,payload:i}),d=(e,i)=>n=>t.ZP.create("BoardSectionEditResource",{...i,section_id:e}).callCreate().then((e=>(n(l(0,i)),e.resource_response.data))),c=(e,i,n,o)=>a=>{const r=t.ZP.create("BoardSectionEditResource",{section_id:i}).callDelete();return a(((e,i,n,t)=>({type:s.Yn,payload:{userId:e,boardSectionId:i,boardId:n,pinCount:t}}))(e,i,n,o)),r},u=(e,i,n)=>l=>{const d={board_id:e,initial_pins:i,name:n},c="BoardSectionResource";return t.ZP.create(c,d).callCreate().then((n=>{const t=n.resource_response.data,u=(0,r.Fv)(t,o.Z[c]);return l((0,a.XM)(c,d,n,u)),i.length&&l({type:s.u2,payload:{source:{boardId:e},target:{boardId:e,sectionId:t.id},pinIds:i}}),n}))},p=e=>i=>{const n={section_id:e},a="BoardSectionResource";return t.ZP.create(a,n).callGet().then((n=>{const t=(0,r.Fv)(n.resource_response.data,o.Z[a]).entities.boardsections[e];return i(l(0,t)),n}))},_=e=>i=>{const{source:n,target:l,pinIds:d}=e;if(i({type:s.u2,payload:e}),n.boardlessPins||l.boardId!==n.boardId){const e={board_id:l.boardId,pin_ids:d,section_id:l.sectionId},i="BulkEditResource";return t.ZP.create(i,e).callUpdate()}if(l.sectionId){const e={section_id:l.sectionId,pins:d},n="BoardSectionEditResource";return t.ZP.create(n,e).callUpdate().then((t=>{const s=(0,r.Fv)(t.resource_response.data,o.Z[n]);return i((0,a.XM)(n,e,t,s)),t}))}const c={section_id:n.sectionId,pins:d};return t.ZP.create("BoardSectionPinsResource",c).callDelete()},h=e=>i=>{i({type:s.Fl,payload:e});const{source:n,target:o,excludePinIds:a}=e,r={board_id:n.boardId,new_board_id:o.boardId,pin_ids:a,old_section_id:n.sectionId,new_section_id:o.sectionId};return t.ZP.create("BulkEditSelectAllResource",r).callUpdate()},m=(e,i,n,t)=>o=>o(u(e,[],i)).then((i=>{const a=i.resource_response.data.id;return o(h({source:{boardId:e,sectionId:t},target:{boardId:e,sectionId:a},excludePinIds:n}))}))},716235:(e,i,n)=>{n.d(i,{a:()=>o,k:()=>a});var t=n(983360);const o=e=>({type:t.cZ,payload:e}),a=e=>({type:t.U1,payload:e})},185894:(e,i,n)=>{n.d(i,{Cp:()=>p,FK:()=>u,H5:()=>C,MI:()=>w,Mj:()=>I,O0:()=>x,QZ:()=>c,W:()=>S,WF:()=>g,Wz:()=>z,YV:()=>m,a5:()=>v,dz:()=>k,e0:()=>f,e2:()=>d,eA:()=>T,gH:()=>b,iW:()=>j,n1:()=>l,rm:()=>h,wY:()=>y,wb:()=>A,xu:()=>P});var t=n(172071),o=n(360903),a=n(983360),r=n(53987),s=n(408285);const l=()=>({type:a.Wn}),d=()=>({type:a.lj}),c=e=>({type:a.j_,payload:{unauthSavePinId:e}}),u=()=>({type:a.JG}),p=()=>({type:a.pV}),_=e=>({type:a.BM,payload:e}),h=e=>({type:a.a9,payload:{from:e}}),m=()=>e=>{e(_({preparingNewVersion:!0})),(0,s.Ng)().catch((()=>(t.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,s.Dm)()))).finally((()=>{t.Z.increment("mweb.new_version.refresh",1),e(_({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,o.Qi)()},g=()=>({type:a.cs}),v=()=>({type:a.tg}),f=e=>({type:a.$t,payload:{steps:e}}),x=()=>({type:a.LB}),y=e=>({type:a.pl,payload:e}),b=e=>({type:a.aj,payload:e}),w=e=>({type:a.HQ,payload:e}),P=e=>({type:a.vH,payload:{viewedImageSignature:e}}),k=e=>({type:a.le,payload:{pins:e}}),T=()=>({type:a.ib}),S=()=>({type:a.L6}),j=e=>e?{type:a.Pz,payload:e}:{type:a.OO},I=(e,i,n)=>t=>t(((e,i,n)=>({type:a.AO,payload:{isShareMenuOpen:e,objectType:i,objectId:n}}))(e,i,n)),A=()=>({type:a.dO}),C=e=>({type:a.UD,payload:e}),z=(e,i)=>{let n;return n=e?(0,r.bo)(e)?"today":i&&(0,r.dZ)(e,i)?"own_section":i&&(0,r.J)(e,i)?"own_board":(0,r.OJ)(e)?"section":(0,r.am)(e)?"board":(0,r.L6)(e)?"closeup":(0,r.C$)(e)?"home":(0,r.cD)(e)?"profile":(0,r.En)(e)?"search":(0,r.$V)(e)?"topic":"":"",{type:a.il,payload:n}}},310227:(e,i,n)=>{n.d(i,{Dv:()=>a,Oc:()=>t,mv:()=>o});const t=16,o=4,a={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},283698:(e,i,n)=>{function t(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(i,{Z:()=>t})},81226:(e,i,n)=>{function t(e){const i=Math.round(e/1e3),n=i%60;return Math.floor(i/60)+":"+(n<10?"0":"")+n}n.d(i,{Z:()=>t})},966476:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(667294);const o=()=>{const[e,i]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{i(!0)}),[]),e}},903095:(e,i,n)=>{n.d(i,{Mi:()=>o,lO:()=>a});var t=n(425288);const{Provider:o,useMaybeHook:a}=(0,t.Z)("pageContext")},375571:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(667294),o=n(172071),a=n(395164);function r(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class s extends t.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,i){try{const i=this.props.name,n=this.props.type||"secondary";(0,a.T)({errorBoundary:i,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),o.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(n){o.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:i})}render(){const{renderErrorState:e}=this.props,{error:i,info:n}=this.state;return i&&n?e?e({error:i,info:n,resetError:this.resetError}):null:this.props.children}}},319915:(e,i,n)=>{n.d(i,{Z:()=>t});const t=n(375571).Z},373420:(e,i,n)=>{n.r(i),n.d(i,{default:()=>d});var t=n(667294),o=n(124580),a=n(223815),r=n(968121),s=n(883119),l=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:_,footer:h,heading:m,onDismiss:g,role:v,size:f,subHeading:x}){(0,t.useEffect)((()=>(o.Z.pause(),function(){o.Z.resume()})),[]);return(0,l.jsx)(s.mh,{zIndex:r.b7,children:(0,l.jsx)(a.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,l.jsx)(s.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n,closeOnOutsideClick:_,heading:m,footer:h,onDismiss:()=>{o.Z.resume(),g()},role:v,size:f,subHeading:x,children:p})})})}},430322:(e,i,n)=>{n.r(i),n.d(i,{default:()=>m});var t=n(667294),o=n(124580),a=n(283698),r=n(223815),s=n(50286),l=n(898781),d=n(494349),c=n(780280),u=n(883119),p=n(968121),_=n(867820),h=n(785893);function m({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n="center",allowScroll:m=!1,children:g,closeOnOutsideClick:v=!0,footer:f,heading:x,mobileAccessibilityCloseIconLabel:y,mobileHideCloseIcon:b,mobileIsFullscreen:w,isOpen:P,mobileIsSlideUp:k,modalStyle:T,onDismiss:S,overrideZDepth:j,subHeading:I,type:A}){const C=(0,l.ZP)(),{isRTL:z}=(0,c.B)(),L=(0,t.useRef)(!1),[D,O]=(0,t.useState)(!1),{setAppFocusState:Z}=(0,d.I)(),E=(0,s.ZP)();(0,t.useEffect)((()=>{(0,_.My)(`mweb_unauth.mobile_modal.${A||"unknown_type"}.did_mount.is_open.${String(!!P)}`)}),[P,A]),(0,t.useEffect)((()=>(L.current=(0,a.Z)((()=>{L.current&&O(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&L.current&&(window.cancelAnimationFrame(L.current),L.current=null)})),[]),(0,t.useEffect)((()=>(P?(o.Z.pause(),Z(!1)):(o.Z.resume(),Z(!0)),()=>{P&&(o.Z.resume(),Z(!0))})),[Z,P]);const R=P&&!m;(0,t.useEffect)((()=>(R&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{R&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[R]);const U=(0,p.bf)();if(!P)return null;const M=k?(0,p.Vf)({isFullscreen:w,isTablet:"tablet"===E,isShowing:D,type:A}):(0,p.JN)({isFullscreen:w,isTablet:"tablet"===E,modalStyle:T,type:A});return(0,h.jsx)(r.Z,{children:(0,h.jsx)(u.mh,{children:(0,h.jsxs)(u.xu,{"aria-label":i,display:"inlineBlock",zIndex:j?new u.Ry(j):p.ZM,position:"relative",role:"dialog",children:[(0,h.jsx)(u.iP,{accessibilityLabel:C._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{const i=e,n=S?"with":"without",t=A||"unknown_type";(0,_.tj)(`mweb_unauth.mobile_modal.wash_tap.${t}.${n}_dismissal`,{x:i.clientX,y:i.clientY}),v&&S&&S()},tapStyle:"none",children:(0,h.jsx)(u.xu,{position:"fixed",top:!0,left:!0,dangerouslySetInlineStyle:U})}),(0,h.jsxs)(u.xu,{position:"fixed",color:"white",dangerouslySetInlineStyle:M,children:[y&&!b&&(0,h.jsxs)(u.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,h.jsx)(u.xu,{display:"flex",alignItems:"center",padding:2,children:(0,h.jsx)(u.hU,{accessibilityLabel:y,iconColor:"darkGray",icon:"cancel",onClick:S,padding:4,size:"sm"})}),(0,h.jsxs)(u.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:(0,p.ju)(Boolean(z)),children:[w?x:(0,h.jsx)(u.xv,{align:n,weight:"bold",size:"400",children:x}),I&&(0,h.jsx)(u.xv,{align:n,children:I})]})]}),(0,h.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[g,f]})]})]})})})}},954571:(e,i,n)=>{n.d(i,{Z:()=>t});function t(e,i){if(!(e||{}).created_at&&!(i||{}).createdAt)return!1;let n="";i&&i.createdAt?n=i.createdAt:e&&e.created_at&&(n=e.created_at);const t=new Date(n);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},166300:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(50286),o=n(883119),a=n(444445),r=n(134879),s=n(785893);const l=({children:e,roundedForLargeDevice:i})=>{const n="phone"!==(0,t.ZP)()&&i;return(0,r.V)()?(0,s.jsx)(o.xu,{marginStart:-a.D6,marginEnd:-a.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,s.jsx)(r.C,{value:!1,children:e})}):e}},627995:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(927104),o=n(898781),a=n(903095),r=n(112690),s=n(883119),l=n(785893);const d=(e,i)=>{let n={};if(e){const{pinData:t,viewData:o}=e;n={unauth_click_pin_id:t.id,unauth_click_pin_image_signature:t.imageSignature},3===i?n={...n,unauth_page_pin_id:o.id,unauth_page_pin_image_signature:o.imageSignature}:5===i&&(n={...n,unauth_page_board_id:o.id})}return n},c=({clickLoggingOptions:e,domain:i,link:n,onClick:c})=>{var u;const p=null===(u=(0,a.lO)())||void 0===u?void 0:u.logging,_=(0,o.ZP)(),h=(0,r.Z)(),m=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((i=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i})));return(0,l.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),m().forEach((e=>h(e))),c(e)},children:(0,l.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:_._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,l.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),m().forEach((e=>h(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,l.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,t.Z)(i,27)})})]})})}},55275:(e,i,n)=>{n.d(i,{P:()=>r,t:()=>s});var t=n(6637);const o=()=>{};const a={complaint:function(e,i){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},followBoard:function(e,i){t.ZP.create("BoardFollowResource",e).callCreate().then((()=>i()))},followPinner:function(e,i){t.ZP.create("UserFollowResource",e).callCreate().then((()=>i()))},followTopic:function(e,i){t.ZP.create("InterestFollowResource",e).callCreate().then((()=>i()))},newsHubPinHide:function(e,i){t.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>i()))},promotedComplaint:function(e,i){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},relatedPinHide:function(e,i){t.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>i()))},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:function(e,i){t.ZP.create("BoardFollowResource",e).callDelete().then((()=>i()))},unfollowPinner:function(e,i){t.ZP.create("UserFollowResource",e).callDelete().then((()=>i()))},unfollowTopic:function(e,i){t.ZP.create("InterestFollowResource",e).callDelete().then((()=>i()))},unrelatedSearchPin:function(e,i){t.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>i()))}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,i,n=o){const t=e?a[e]:null;return t?t(i,n):n()}},680046:(e,i,n)=>{n.d(i,{EF:()=>u,XZ:()=>d,ZP:()=>s,nb:()=>c,yl:()=>l});var t=n(966113),o=n(55275),a=n(760372);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:i})=>({getLearnMoreUrl:e=>{switch(e){case 1:return t.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return t.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return t.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:t,feedbackType:o,makeNavigateLink:a,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:o,url:u}=d.board,p=a("navigation",u,o);return i(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:p});case"topic":const{name:_,url_name:h}=c,m=a("topicUrl",`/topics/${h}`,_);return i(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:m});case"followed":const g=`/${s.username}`,v=a("boardUrl",t.url,r(t.name)),f=a("pinnerUrl",g,r(s.full_name));return s.explicitly_followed_by_me?i(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:f}):i(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:v});case"promoted":switch(n){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:n,username:t}=l,o=a("promotedLink",t?"/"+t+"/":"/",n);return i(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:i,viewParameter:n,pin:{promoter:t,is_downstream_promotion:o,recommendation_reason:a},pinner:r}){const s=i&&i.type;return t&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(a)?a.board?"pfyBoard":"pfy":a&&"FOLLOWED_INTEREST"===a.reason?"topic":e&&e.followed_by_me||r&&r.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:i,pinId:n,recommendationReasonId:t,pinFeedbackType:o,complaintReason:a,throughId:r,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===i;let c,u;switch(i){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(i){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:a||0,pin_id:n,...t?{recommendation_reason_id:t}:{},feedback_type:o||1,promoted:d,...r?{through_id:r}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:t,makeNavigateLink:o,pinner:r,sourceInterest:s})=>{if("topic"===t){if(s){const{id:n,name:t,url_name:r}=s,l=o("topicUrl",`/topics/${r}`,t,!0),d=i(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:a.X},title:"",subTitle:d}}}else if("followed"===t&&n&&r){const{id:t,name:a,url:s}=n||{},{explicitly_followed_by_me:l,full_name:d,username:c}=r,u=`/${c}`,p=o("boardUrl",s,a,!0),_=o("pinnerUrl",u,d,!0);let h=l?i(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:_,formattedBoard:p}):i(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p});return h=l?i(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:_}):i(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:t},title:"",subTitle:h}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,i,n,t,a,r,s){return()=>{const l={...e,undo:!0};let d=i;"unfollowPinner"===i?d="followPinner":"unfollowBoard"===i?d="followBoard":"unfollowTopic"===i&&(d="followTopic"),(0,o.t)(d,l),r(n),s({event_type:101,component:0,element:11181,view_type:t,view_parameter:a})}}},248975:(e,i,n)=>{function t({embedSrc:e,embedType:i,images:n,preferredResolution:t}){if(!e&&!i&&!n)return"";if("gif"===i)return e||"";const o=n;if(!o)return"";if(t){const e="474x"===t&&o["474x"]||"236x"===t&&o["236x"]||o["736x"];if(e&&e.url)return e.url}const a=Object.keys(o).map((e=>{try{const i=e.split("x")[0];return Number.isNaN(Number(i))?(o[i]=o[e],i):e}catch(i){return""}}));a.sort();const r=a.pop();return o[r]&&o[r].url||""}n.d(i,{Z:()=>t})},958007:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(992750);const o=e=>(e||"").trim().replace(/\s+/g," "),a=e=>{const i=e||{};return!!i.story_pin_data_id?o(i.description):o((0,t.eK)(i).description)||o(i.closeup_unified_description||"")||o(i.closeup_description)||o(i.description)||o(i.rich_metadata&&i.rich_metadata.description)||""}},992750:(e,i,n)=>{n.d(i,{hP:()=>p,fs:()=>d,eK:()=>c,Ly:()=>u,RC:()=>s,EU:()=>l});const t=/\s\s+/g,o=e=>e.replace(t," ");var a=n(883561);const r=e=>"string"==typeof e?e:"",s=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,l=(e,i)=>e?e.trim().length>i?(0,a.ZP)(e.trim(),i).trim():e.trim():"",d=e=>{const{grid_title:i}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:t}=(e=>{const{place_summary:i,rich_summary:n}=e||{},t=n&&"mobile application"!==n.type_name;return{hasRichSummary:t,hasRichAttributionTitle:t&&n.display_name,hasPlaceInfo:!!i}})(e),o=s(e),a=l(i,200);return a||(n?(e=>{const{rich_summary:i}=e;let{apple_touch_icon_images:n,favicon_images:t}=i;return n=n||{},t=t||{},{faviconLink:n["50x"]||t["50x"]||n.orig||t.orig,siteName:i.site_name||e.domain,title:i.display_name}})(e).title:t?(e=>{const{place_summary:i}=e;return{faviconLink:i.source_icon,siteName:i.source_name||e.domain,title:i.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&o?o:null)},c=e=>{const i=e.pin_join||{},n=i.visual_annotation||[],t=n.map((e=>(i.annotations_with_links||{})[e]||{name:e,url:""}));let r="";const s=(e.rich_metadata||{}).description||"",l=e.closeup_unified_description||"",d=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),c=s.toLocaleLowerCase().trim(),u=l.toLocaleLowerCase().trim();return l&&l.length>3&&u!==d?r=l:s&&s.length>3&&c!==d&&(r=s),r&&(r=o((0,a.ZP)(r,496)).trim()),{description:r,vaseAnnotations:n,annotationsWithLinks:t}},u=(e,i,n)=>{const t=(n||[]).map((e=>e.name)),o=e=>(e||[])[0]||null;return d(e)||o(i)||o(t)||e.title},p=(e,i,n,t,o)=>{const a=r(e).trim();let s=a;if(!n&&!t)return o&&o.trim().length?o:s;const l=n;if(o&&o.trim().length)s=o;else if(l){const e=l.toLowerCase(),n=r(i);e!==a.toLowerCase()&&e!==n.trim().toLowerCase()&&(s=l)}let d=t;return d&&d.length>0&&(d=d.join(", "),s&&(s+=" "),s+=d),s}},760372:(e,i,n)=>{n.d(i,{X:()=>t});const t="favorited"},813401:(e,i,n)=>{n.d(i,{kf:()=>g,l5:()=>h,of:()=>p,xC:()=>m,yz:()=>_});var t=n(667294),o=n(172071),a=n(829407),r=n(807609),s=n(30287),l=n(425288),d=n(785893);const{Provider:c,useMaybeHook:u}=(0,l.Z)("PwaContext"),p=({children:e,initialContext:i})=>{const[n,r]=(0,t.useState)(null),l=i||{pwaType:"unknown",twaType:null},u=l.pwaType;(0,a.Z)((()=>{const e=(0,s.FB)(window)||"unknown";r(e),u!==e&&o.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&n?n:u,_=l.twaType,h=(0,t.useMemo)((()=>({pwaType:p,twaType:_})),[p,_]);return(0,d.jsx)(c,{value:h,children:e})},_=()=>{var e;const i=u();return null!==(e=null==i?void 0:i.pwaType)&&void 0!==e?e:"unknown"},h=()=>{var e;const i=u();return null!==(e=null==i?void 0:i.twaType)&&void 0!==e?e:null},m=()=>"android-twa"===_(),g=()=>{const e=_(),i=(0,r.Z)();return"unknown"===e&&i?null:"windows"===e}},561195:(e,i,n)=>{n.d(i,{A:()=>l,Z:()=>d});var t=n(667294),o=n(498913),a=n.n(o),r=n(883119),s=n(785893);const l=({fill:e,width:i,color:n})=>{const o="half"===e?(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(r.xu,{position:"absolute",children:(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:i,width:n,color:o}){const r=[],d=function(e,i){return 5*(i=i<=e?i:e)/e}(parseFloat(e)||5,parseFloat(i)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return a()(c,(e=>r.push((0,s.jsx)(l,{color:o,fill:"full",width:n},e)))),u>=.75?r.push((0,s.jsx)(l,{color:o,fill:"full",width:n},r.length)):u>=.25&&r.push((0,s.jsx)(l,{color:o,fill:"half",width:n},r.length)),a()(5-r.length,(()=>r.push((0,s.jsx)(l,{color:o,fill:"empty",width:n},r.length)))),(0,s.jsx)(t.Fragment,{children:r})}},923297:(e,i,n)=>{function t({m:e=0,h:i=0}){let n;return n=i<=0?i:e>45?i+1:e>15?i+.5:i,{m:e,h:i,rm:i>0?0:e,rh:n}}function o(e){const i=Math.floor(e/3600);return t({m:Math.floor(e%3600/60),h:i})}n.d(i,{X:()=>t,u:()=>o})},134185:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(785893);const o=e=>{const i=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,t.jsx)("div",{...i,children:e.children||null})}},578661:(e,i,n)=>{n.d(i,{G:()=>t});const t="https://schema.org/Recipe"},857079:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(883119),o=n(785893);function a({accessibilityLabel:e}){return(0,o.jsx)(t.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(t.$j,{accessibilityLabel:e,show:!0})})}},497997:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(667294);const o=(0,t.createContext)();var a=n(785893);function r({children:e,fallback:i,dangerouslyServerRenderForGraphQL:n=!1}){const r=i||null;(0,t.useContext)(o);return(0,a.jsx)(t.Suspense,{fallback:r,children:e})}},947599:(e,i,n)=>{n.d(i,{Z:()=>t});const t=n(497997).Z},864537:(e,i,n)=>{n.d(i,{Jc:()=>s,NO:()=>r,R3:()=>a,ge:()=>c,th:()=>l});var t=n(643913);const o=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],a={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function r(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:i="",index:n}){switch(e){case a.USER_INPUT:case a.AUTO_COMPLETE_HASHTAG:case a.TYPO_AUTO_CORRECT_ORIGINAL:return`${i}|${e}`;case a.AUTO_COMPLETE_DEFAULT:return`${i}|autocomplete|${n}`;case a.AUTO_COMPLETE_RECENT_SEARCH:return`${i}|recentsearch|${n}`;case a.AUTO_COMPLETE_TRENDING:return`${i}|trending|${n}`;case a.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${i}|recommended|${n}`;case a.SEARCH_GUIDE:return`${i}|guide|word|${n}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,t.Z)({term_meta:e.map((e=>s(e)))})}function d(e){if(e){const i=e.trim().split(/\s+/);return i.find((e=>o.includes(e.toLowerCase())))?[e]:i}return[]}function c({type:e,query:i="",index:n}){switch(e){case a.USER_INPUT:case a.AUTO_COMPLETE_HASHTAG:case a.TYPO_AUTO_CORRECT_ORIGINAL:return d(i).map((i=>({index:n,term:i,type:e})));case a.AUTO_COMPLETE_RECENT_SEARCH:case a.AUTO_COMPLETE_RECOMMENDED_SEARCH:case a.AUTO_COMPLETE_TRENDING:case a.AUTO_COMPLETE_DEFAULT:return d(i).map((i=>({term:i,type:e,index:n})));default:return[]}}},619277:(e,i,n)=>{n.d(i,{o$:()=>o,ty:()=>a,vE:()=>r});var t=n(425288);const{Provider:o,MaybeConsumer:a,useMaybeHook:r}=(0,t.Z)("inviteContext")},927104:(e,i,n)=>{n.d(i,{Z:()=>t});const t=(e,i)=>e.length>i?e.substr(0,i-3).trim()+"…":e},807609:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(411465),o=n(966476);const a=()=>{const e=(0,t.Z)(),i=(0,o.Z)();return e&&!i}},411465:(e,i,n)=>{n.d(i,{G:()=>s,Z:()=>l});var t=n(667294),o=n(925927),a=n(785893);const r=(0,t.createContext)(!0);function s({children:e}){const i=(0,o.TH)(),[n,s]=(0,t.useState)(!0),l=(0,t.useRef)(i);return(0,t.useEffect)((()=>{l.current!==i&&(l.current=i,s(!1))}),[i]),(0,a.jsx)(r.Provider,{value:n,children:e})}function l(){return(0,t.useContext)(r)}},870167:(e,i,n)=>{n.d(i,{D:()=>o,a:()=>a});var t=n(425288);const{Provider:o,useMaybeHook:a}=(0,t.Z)("unauthPageWrapperContext")},162158:(e,i,n)=>{n.d(i,{V:()=>r,u:()=>a});var t=n(6637),o=n(935409);const a=e=>i=>{const n={board_id:e};return t.ZP.create("BoardResource",n).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;return n&&i((0,o.yT)(n)),e}))};function r(e,i,n){return(a,r)=>{const{boards:s}=r(),l=s[e],d=void 0===i.collaborator_requests_enabled||null===i.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:i.collaborator_requests_enabled},c={allow_homefeed_recommendations:i.allow_homefeed_recommendations,category:i.category,collab_board_email:i.collab_board_email,collaborator_invites_enabled:i.collaborator_invites_enabled,collaborator_permissions_setting:i.collaborator_permissions_setting,description:i.description,name:i.name,privacy:i.privacy,sensitivity:i.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...d};return a((0,o.yT)({...c,id:e})),t.ZP.create("BoardResource",{...c,board_id:e}).callUpdate().then((e=>{const n=e&&e.resource_response&&e.resource_response.data||i;return a((0,o.yT)(n)),e})).catch((e=>{throw l&&a((0,o.yT)(l)),e}))}}},395164:(e,i,n)=>{n.d(i,{T:()=>r,Z:()=>s});var t=n(226198),o=n(314880);const a=[];function r(e){let i;try{i=JSON.stringify({errorObj:e})}catch(l){i=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const n=(r={report_context:JSON.stringify({current_url:window.location.href,client_version:"8f589ce"}),report_data:i},Object.keys(r).map((e=>e+"="+encodeURIComponent(r[e]))).join("&"));var r;const s=window.btoa(n);if(-1===a.indexOf(s)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const i=(0,o.H)();i&&e.setRequestHeader("X-Pinterest-PWS-Handler",i),e.setRequestHeader("X-CSRFToken",function(e){const i=("; "+document.cookie).split("; "+e.name+"=");return 2===i.length?i.pop().split(";").shift():""}(t.fS)),e.send(n),a.push(s)}a.length>100&&a.shift()}function s(){window.addEventListener("error",(e=>{const i=e.error||{};r({name:i.name,message:i.message||e.message,stack:i.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var i,n,t,o,a;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:s}=e,l="string"==typeof(null==s?void 0:s.message)?s.message:String(s);r({name:null!==(i=null==s?void 0:s.name)&&void 0!==i?i:"unhandledrejection",message:l,message_detail:null==s?void 0:s.message_detail,original_message:null==s?void 0:s.original_message,stack:null==s?void 0:s.stack,filename:null==s?void 0:s.fileName,line:null!==(n=null!==(t=null==s?void 0:s.lineno)&&void 0!==t?t:null==s?void 0:s.line)&&void 0!==n?n:null==s?void 0:s.lineNumber,column:null!==(o=null!==(a=null==s?void 0:s.column)&&void 0!==a?a:null==s?void 0:s.colno)&&void 0!==o?o:null==s?void 0:s.columnNumber})}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/56080-8cac997c6acb974b.mjs.map